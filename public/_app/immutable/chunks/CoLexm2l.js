import{d as E,i as pt,t as C,b as ut,g,e as V,f as X,h as O,D as m,j as h,k as q,l as ft,w as z,m as lt,n as _t,_ as H,o as St,p as mt,q as ht,a as Tt}from"./C1nXBIR4.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="2840dafb-3eba-41fa-9431-58a22d6c9f95",t._sentryDebugIdIdentifier="sentry-dbid-2840dafb-3eba-41fa-9431-58a22d6c9f95")})()}catch{}const R="sentry.source",Z="sentry.sample_rate",gt="sentry.previous_trace_sample_rate",P="sentry.op",N="sentry.origin",It="sentry.measurement_unit",Et="sentry.measurement_value",F="sentry.custom_span_name",yt="sentry.profile_id",bt="sentry.exclusive_time",Rt=0,At=1,Nt=2,Q="_sentryScope",tt="_sentryIsolationScope";function Dt(t,e,n){t&&(E(t,tt,n),E(t,Q,e))}function v(t){return{scope:t[Q],isolationScope:t[tt]}}const Ot="sentry-",wt=/^sentry-/;function Ct(t){const e=Pt(t);if(!e)return;const n=Object.entries(e).reduce((s,[r,a])=>{if(r.match(wt)){const i=r.slice(Ot.length);s[i]=a}return s},{});if(Object.keys(n).length>0)return n}function Pt(t){if(!(!t||!pt(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const s=L(n);return Object.entries(s).forEach(([r,a])=>{e[r]=a}),e},{}):L(t)}function L(t){return t.split(",").map(e=>e.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((e,[n,s])=>(n&&s&&(e[n]=s),e),{})}const vt=/^o(\d+)\./;function Mt(t,e=!1){const{host:n,path:s,pass:r,port:a,projectId:i,protocol:o,publicKey:c}=t;return`${o}://${c}${e&&r?`:${r}`:""}@${n}${a?`:${a}`:""}/${s&&`${s}/`}${i}`}function kt(t){const e=t.match(vt);return e==null?void 0:e[1]}function xt(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let s;return e.orgId?s=String(e.orgId):n&&(s=kt(n)),s}function et(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const nt=0,k=1;let G=!1;function $t(t){const{spanId:e,traceId:n}=t.spanContext(),{data:s,op:r,parent_span_id:a,status:i,origin:o,links:c}=S(t);return{parent_span_id:a,span_id:e,trace_id:n,data:s,op:r,status:i,origin:o,links:c}}function st(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:s,...r},attributes:a})=>({span_id:e,trace_id:n,sampled:s===k,attributes:a,...r}))}function I(t){return typeof t=="number"?j(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?j(t.getTime()):C()}function j(t){return t>9999999999?t/1e3:t}function S(t){var s;if(Ft(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(Ut(t)){const{attributes:r,startTime:a,name:i,endTime:o,status:c,links:d}=t,u="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?(s=t.parentSpanContext)==null?void 0:s.spanId:void 0;return{span_id:e,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:I(a),timestamp:I(o)||void 0,status:rt(c),op:r[P],origin:r[N],links:st(d)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function Ut(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function Ft(t){return typeof t.getSpanJSON=="function"}function A(t){const{traceFlags:e}=t.spanContext();return e===k}function rt(t){if(!(!t||t.code===Rt))return t.code===At?"ok":t.message||"unknown_error"}const b="_sentryChildSpans",M="_sentryRootSpan";function at(t,e){const n=t[M]||t;E(e,M,n),t[b]?t[b].add(e):E(t,b,new Set([e]))}function Lt(t){const e=new Set;function n(s){if(!e.has(s)&&A(s)){e.add(s);const r=s[b]?Array.from(s[b]):[];for(const a of r)n(a)}}return n(t),Array.from(e)}function T(t){return t[M]||t}function Gt(){G||(ut(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),G=!0)}function x(t){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||((n=g())==null?void 0:n.getOptions());return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}const jt="production",it="_frozenDsc";function w(t,e){E(t,it,e)}function Bt(t,e){const n=e.getOptions(),{publicKey:s}=e.getDsn()||{},r={environment:n.environment||jt,release:n.release,public_key:s,trace_id:t,org_id:xt(e)};return e.emit("createDsc",r),r}function D(t){var _;const e=g();if(!e)return{};const n=T(t),s=S(n),r=s.data,a=n.spanContext().traceState,i=(a==null?void 0:a.get("sentry.sample_rate"))??r[Z]??r[gt];function o(y){return(typeof i=="number"||typeof i=="string")&&(y.sample_rate=`${i}`),y}const c=n[it];if(c)return o(c);const d=a==null?void 0:a.get("sentry.dsc"),u=d&&Ct(d);if(u)return o(u);const p=Bt(t.spanContext().traceId,e),l=r[R],f=s.description;return l!=="url"&&f&&(p.transaction=f),x()&&(p.sampled=String(A(n)),p.sample_rand=(a==null?void 0:a.get("sentry.sample_rand"))??((_=v(n).scope)==null?void 0:_.getPropagationContext().sampleRand.toString())),o(p),e.emit("createDsc",p,n),p}class ${constructor(e={}){this._traceId=e.traceId||V(),this._spanId=e.spanId||X()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:nt}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,s){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function Yt(t,e=[]){return[t,e]}function Jt(t){return[{type:"span"},t]}function Wt(t,e){if(!(e!=null&&e.length)||!t.description)return!1;for(const n of e){if(Kt(n)){if(O(t.description,n))return!0;continue}if(!n.name&&!n.op)continue;const s=n.name?O(t.description,n.name):!0,r=n.op?t.op&&O(t.op,n.op):!0;if(s&&r)return!0}return!1}function Kt(t){return typeof t=="string"||t instanceof RegExp}function Vt(t,e){function n(f){return!!f.trace_id&&!!f.public_key}const s=D(t[0]),r=e==null?void 0:e.getDsn(),a=e==null?void 0:e.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(s)&&{trace:s},...!!a&&r&&{dsn:Mt(r)}},{beforeSendSpan:o,ignoreSpans:c}=(e==null?void 0:e.getOptions())||{},d=c!=null&&c.length?t.filter(f=>!Wt(S(f),c)):t,u=t.length-d.length;u&&(e==null||e.recordDroppedEvent("before_send","span",u));const p=o?f=>{const _=S(f),y=o(_);return y||(Gt(),_)}:S,l=[];for(const f of d){const _=p(f);_&&l.push(Jt(_))}return Yt(i,l)}function Xt(t){if(!m)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:s}=S(t),{spanId:r}=t.spanContext(),a=A(t),i=T(t),o=i===t,c=`[Tracing] Starting ${a?"sampled":"unsampled"} ${o?"root ":""}span`,d=[`op: ${n}`,`name: ${e}`,`ID: ${r}`];if(s&&d.push(`parent ID: ${s}`),!o){const{op:u,description:p}=S(i);d.push(`root ID: ${i.spanContext().spanId}`),u&&d.push(`root op: ${u}`),p&&d.push(`root description: ${p}`)}h.log(`${c}
  ${d.join(`
  `)}`)}function qt(t){if(!m)return;const{description:e="< unknown name >",op:n="< unknown op >"}=S(t),{spanId:s}=t.spanContext(),a=T(t)===t,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${e}" with ID ${s}`;h.log(i)}function B(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const s=n.attributes||{},r=s[It],a=s[Et];typeof r=="string"&&typeof a=="number"&&(e[n.name]={value:a,unit:r})}),e}const Y=1e3;class U{constructor(e={}){this._traceId=e.traceId||V(),this._spanId=e.spanId||X(),this._startTime=e.startTimestamp||C(),this._links=e.links,this._attributes={},this.setAttributes({[N]:"manual",[P]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:s}=this;return{spanId:e,traceId:n,traceFlags:s?k:nt}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=I(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(R,"custom"),this}end(e){this._endTime||(this._endTime=I(e),qt(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[P],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:rt(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[N],profile_id:this._attributes[yt],exclusive_time:this._attributes[bt],measurements:B(this._events),is_segment:this._isStandaloneSpan&&T(this)===this||void 0,segment_id:this._isStandaloneSpan?T(this).spanContext().spanId:void 0,links:st(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,s){m&&h.log("[Tracing] Adding an event to span:",e);const r=J(n)?n:s||C(),a=J(n)?{}:n||{},i={name:e,time:I(r),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=g();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===T(this)))return;if(this._isStandaloneSpan){this._sampled?Ht(Vt([this],e)):(m&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const s=this._convertSpanToTransaction();s&&(v(this).scope||q()).captureEvent(s)}_convertSpanToTransaction(){var u;if(!W(S(this)))return;this._name||(m&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=v(this),s=(u=e==null?void 0:e.getScopeData().sdkProcessingMetadata)==null?void 0:u.normalizedRequest;if(this._sampled!==!0)return;const a=Lt(this).filter(p=>p!==this&&!zt(p)).map(p=>S(p)).filter(W),i=this._attributes[R];delete this._attributes[F],a.forEach(p=>{delete p.data[F]});const o={contexts:{trace:$t(this)},spans:a.length>Y?a.sort((p,l)=>p.start_timestamp-l.start_timestamp).slice(0,Y):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:D(this)},request:s,...i&&{transaction_info:{source:i}}},c=B(this._events);return c&&Object.keys(c).length&&(m&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),o.measurements=c),o}}function J(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function W(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function zt(t){return t instanceof U&&t.isStandaloneSpan()}function Ht(t){const e=g();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function ot(t,e,n=()=>{}){let s;try{s=t()}catch(r){throw e(r),n(),r}return Zt(s,e,n)}function Zt(t,e,n){return ft(t)?t.then(s=>(n(),s),s=>{throw e(s),n(),s}):(n(),t)}function Qt(t,e,n){if(!x(t))return[!1];let s,r;typeof t.tracesSampler=="function"?(r=t.tracesSampler({...e,inheritOrSampleWith:o=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):o}),s=!0):e.parentSampled!==void 0?r=e.parentSampled:typeof t.tracesSampleRate<"u"&&(r=t.tracesSampleRate,s=!0);const a=et(r);if(a===void 0)return m&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!a)return m&&h.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a,s];const i=n<a;return i||m&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[i,a,s]}const ct="__SENTRY_SUPPRESS_TRACING__";function te(t,e){const n=dt();if(n.startSpan)return n.startSpan(t,e);const s=se(t),{forceTransaction:r,parentSpan:a,scope:i}=t,o=i==null?void 0:i.clone();return z(o,()=>ie(a)(()=>{const d=q(),u=ae(d,a),l=t.onlyIfParent&&!u?new $:ne({parentSpan:u,spanArguments:s,forceTransaction:r,scope:d});return H(d,l),ot(()=>e(l),()=>{const{status:f}=S(l);l.isRecording()&&(!f||f==="ok")&&l.setStatus({code:Nt,message:"internal_error"})},()=>{l.end()})}))}function ee(t,e){const n=dt();return n.withActiveSpan?n.withActiveSpan(t,e):z(s=>(H(s,t||void 0),e(s)))}function ne({parentSpan:t,spanArguments:e,forceTransaction:n,scope:s}){if(!x()){const i=new $;if(n||!t){const o={sampled:"false",sample_rate:"0",transaction:e.name,...D(i)};w(i,o)}return i}const r=St();let a;if(t&&!n)a=re(t,s,e),at(t,a);else if(t){const i=D(t),{traceId:o,spanId:c}=t.spanContext(),d=A(t);a=K({traceId:o,parentSpanId:c,...e},s,d),w(a,i)}else{const{traceId:i,dsc:o,parentSpanId:c,sampled:d}={...r.getPropagationContext(),...s.getPropagationContext()};a=K({traceId:i,parentSpanId:c,...e},s,d),o&&w(a,o)}return Xt(a),Dt(a,s,r),a}function se(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const s={...n};return s.startTimestamp=I(t.startTime),delete s.startTime,s}return n}function dt(){const t=lt();return _t(t)}function K(t,e,n){var _;const s=g(),r=(s==null?void 0:s.getOptions())||{},{name:a=""}=t,i={spanAttributes:{...t.attributes},spanName:a,parentSampled:n};s==null||s.emit("beforeSampling",i,{decision:!1});const o=i.parentSampled??n,c=i.spanAttributes,d=e.getPropagationContext(),[u,p,l]=e.getScopeData().sdkProcessingMetadata[ct]?[!1]:Qt(r,{name:a,parentSampled:o,attributes:c,parentSampleRate:et((_=d.dsc)==null?void 0:_.sample_rate)},d.sampleRand),f=new U({...t,attributes:{[R]:"custom",[Z]:p!==void 0&&l?p:void 0,...c},sampled:u});return!u&&s&&(m&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),s.recordDroppedEvent("sample_rate","transaction")),s&&s.emit("spanStart",f),f}function re(t,e,n){const{spanId:s,traceId:r}=t.spanContext(),a=e.getScopeData().sdkProcessingMetadata[ct]?!1:A(t),i=a?new U({...n,parentSpanId:s,traceId:r,sampled:a}):new $({traceId:r});at(t,i);const o=g();return o&&(o.emit("spanStart",i),n.endTimestamp&&o.emit("spanEnd",i)),i}function ae(t,e){if(e)return e;if(e===null)return;const n=mt(t);if(!n)return;const s=g();return(s?s.getOptions():{}).parentSpanIsAlwaysRootSpan?T(n):n}function ie(t){return t!==void 0?e=>ee(t,e):e=>e()}function oe(t){if(t==null||typeof t!="object")return!1;const e="location"in t&&typeof t.location=="string",n="status"in t&&typeof t.status=="number"&&t.status>=300&&t.status<=308;return e&&n}function ce(t){return typeof t=="object"&&t!==null&&"status"in t&&"body"in t}function de(t){const e=ht(t);return oe(e)||ce(e)&&e.status<500&&e.status>=400||Tt(e,{mechanism:{type:"sveltekit",handled:!1,data:{function:"load"}}}),e}function ue(t){return new Proxy(t,{apply:(e,n,s)=>{const r=s[0];if(r.__sentry_wrapped__)return e.apply(n,s);const a={...r};E(a,"__sentry_wrapped__",!0);const i=r.route&&Object.getOwnPropertyDescriptor(r.route,"id"),c=i&&i.value||r.route.id;return te({op:"function.sveltekit.load",attributes:{[N]:"auto.function.sveltekit",[R]:c?"route":"url"},name:c||r.url.pathname},()=>ot(()=>e.apply(n,[a]),de))}})}export{ue as w};
//# sourceMappingURL=CoLexm2l.js.map
