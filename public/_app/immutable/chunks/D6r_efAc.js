import"./CPkq-MRm.js";import{p as te,c as a,r as i,s as d,t as j,a as se,n as re,g as l,u as ie,f as ae}from"./BX4Dnpro.js";import{f as h,s as g,a as u,t as oe,c as ne}from"./DS607QHn.js";import{i as A}from"./DrMRszh9.js";import{a as le,e as ce,b as de,s as I,i as ve}from"./Dbls2O6t.js";import{p as b}from"./DQsDk8MY.js";import{g as we}from"./6BIzYspF.js";import{B as fe}from"./z-ijcZsT.js";import{C as ue,A as ge}from"./CzBRMrWk.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};r.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new r.Error().stack;s&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[s]="92633c2a-6823-4205-ab83-b10d80757a50",r._sentryDebugIdIdentifier="sentry-dbid-92633c2a-6823-4205-ab83-b10d80757a50")})()}catch{}function he(r){const s=new Date(r),p=new Date(s.getTime()+s.getTimezoneOffset()*6e4),t=Math.floor((new Date().getTime()-p.getTime())/1e3);return t<60?`${t} seconds ago`:t<3600?`${Math.floor(t/60)} minutes ago`:t<86400?`${Math.floor(t/3600)} hours ago`:t<2592e3?`${Math.floor(t/86400)} days ago`:t<31536e3?`${Math.floor(t/2592e3)} months ago`:`${Math.floor(t/31536e3)} years ago`}function Ae(r){if(!r)return"Unknown";const s=new Date(r),m=Math.abs(new Date().getTime()-s.getTime()),t=Math.floor(m/(1e3*60*60*24));return t===0?"Today":t===1?"Yesterday":t<7?`${t} days ago`:t<30?`${Math.floor(t/7)} weeks ago`:t<365?`${Math.floor(t/30)} months ago`:`${Math.floor(t/365)} years ago`}var pe=h('<tr><td class="svelte-1iqecnw"><!></td><td class="svelte-1iqecnw"><a> </a></td><td class="svelte-1iqecnw"><a class="review-title-link svelte-1iqecnw"> </a></td><td class="svelte-1iqecnw"> </td><td class="svelte-1iqecnw"> </td><td class="svelte-1iqecnw"><!></td><td class="svelte-1iqecnw"> </td></tr>'),me=h('<table class="reviews-table svelte-1iqecnw"><thead class="svelte-1iqecnw"><tr><th class="svelte-1iqecnw">Status</th><th class="svelte-1iqecnw">Project</th><th class="svelte-1iqecnw">Name</th><th class="svelte-1iqecnw">Commits</th><th class="svelte-1iqecnw">Update</th><th class="svelte-1iqecnw">Authors</th><th title="Commit version" class="svelte-1iqecnw">Ver.</th></tr></thead><tbody></tbody></table>'),be=h('<div class="loading-state svelte-1iqecnw"><div class="loading-spinner svelte-1iqecnw"></div> <p class="svelte-1iqecnw">Loading reviews...</p></div>'),qe=h('<div class="empty-state svelte-1iqecnw"><p class="svelte-1iqecnw">No recent reviews</p> <p class="empty-state-subtitle svelte-1iqecnw">Reviews will appear here once they are created.</p></div>'),xe=h('<div class="section-card reviews-table-section svelte-1iqecnw"><div class="section-header svelte-1iqecnw"><h2 class="section-title svelte-1iqecnw"> </h2> <!></div> <!></div>');const ye={hash:"svelte-1iqecnw",code:`.section-card.svelte-1iqecnw {overflow:hidden;border:1px solid color(srgb 0.831373 0.815686 0.807843);border-radius:8px;background-color:white;}.section-header.svelte-1iqecnw {display:flex;align-items:center;justify-content:space-between;padding-right:5px;border-bottom:1px solid color(srgb 0.831373 0.815686 0.807843);background-color:#f3f3f2;}.section-title.svelte-1iqecnw {margin:0;padding:12px 15px;color:color(srgb 0.52549 0.494118 0.47451);font-size:0.8em;}

	/* Reviews Table */.empty-state.svelte-1iqecnw {padding:3rem 1rem;color:#718096;text-align:center;}.empty-state.svelte-1iqecnw p:where(.svelte-1iqecnw) {margin:0 0 0.5rem 0;font-size:1.1rem;}.empty-state-subtitle.svelte-1iqecnw {font-size:0.9rem !important;opacity:0.8;}.loading-state.svelte-1iqecnw {display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:#718096;text-align:center;}.loading-state.svelte-1iqecnw p:where(.svelte-1iqecnw) {margin:1rem 0 0 0;font-size:1.1rem;}.loading-spinner.svelte-1iqecnw {width:40px;height:40px;border:3px solid rgba(0, 0, 0, 0.1);border-radius:50%;border-top-color:#2563eb;
		animation: svelte-1iqecnw-spin 1s ease-in-out infinite;}

	@keyframes svelte-1iqecnw-spin {
		to {
			transform: rotate(360deg);
		}
	}.reviews-table.svelte-1iqecnw {width:100%;border-collapse:collapse;color:var(--clr-text-2);font-size:0.8125rem;}.reviews-table.svelte-1iqecnw thead:where(.svelte-1iqecnw) {border-bottom:1px solid color(srgb 0.831373 0.815686 0.807843);background-color:#eee;}.reviews-table.svelte-1iqecnw th:where(.svelte-1iqecnw) {padding:10px 15px;color:color(srgb 0.52549 0.494118 0.47451);font-weight:500;font-size:0.8em;text-align:left;}.reviews-table.svelte-1iqecnw td:where(.svelte-1iqecnw) {padding:18px 15px;border-bottom:1px solid #e2e8f0;vertical-align:middle;}.review-row.svelte-1iqecnw {background-color:white;transition:background-color 0.2s;}.review-row.svelte-1iqecnw:hover {background-color:#f7fafc;}.first-row.svelte-1iqecnw td:where(.svelte-1iqecnw):first-child {border-top-left-radius:6px;}.first-row.svelte-1iqecnw td:where(.svelte-1iqecnw):last-child {border-top-right-radius:6px;}.last-row.svelte-1iqecnw td:where(.svelte-1iqecnw):first-child {border-bottom-left-radius:6px;}.last-row.svelte-1iqecnw td:where(.svelte-1iqecnw):last-child {border-bottom-right-radius:6px;}.review-title-link.svelte-1iqecnw {display:block;max-width:300px;overflow:hidden;color:#000;font-weight:800;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;}.review-title-link.svelte-1iqecnw:hover {text-decoration:underline;}`};function Ce(r,s){te(s,!0),le(r,ye);let p=b(s,"status",3,"found"),m=b(s,"sectionTitle",3,"Recent Reviews"),t=b(s,"allReviewsUrl",19,()=>{}),E=b(s,"reviewsCount",3,0);function $(e){return"title"in e&&typeof e.title=="string"?e.title:"title"in e&&e.title!==void 0?String(e.title):"Untitled Review"}function B(e){return"reviewUrl"in e&&e.reviewUrl?e.reviewUrl:`/${e.projectFullSlug}/review/${e.uuid}`}function F(e){return e.map(o=>{var v,w;return{srcUrl:((v=o.user)==null?void 0:v.avatarUrl)||"/images/default-avatar.png",username:((w=o.user)==null?void 0:w.name)||"User"}})}var q=xe(),x=a(q),y=a(x),N=a(y,!0);i(y);var L=d(y,2);{var P=e=>{fe(e,{onclick:()=>we(t()),style:"pop",children:(o,v)=>{re();var w=oe("All Reviews");u(o,w)},$$slots:{default:!0}})};A(L,e=>{t()&&E()>0&&e(P)})}i(x);var Y=d(x,2);{var G=e=>{var o=me(),v=d(a(o));ce(v,21,()=>s.reviews,ve,(w,n,c)=>{var f=pe(),_=a(f),V=a(_);ue(V,{get status(){return l(n).reviewStatus}}),i(_);var T=d(_),k=a(T),H=a(k,!0);i(k),i(T);var R=d(T),S=a(R),J=a(S,!0);i(S),i(R);var U=d(R),K=a(U,!0);i(U);var D=d(U),Q=a(D,!0);i(D);var M=d(D),W=a(M);{let z=ie(()=>F(l(n).contributors));ge(W,{get avatars(){return l(z)}})}i(M);var C=d(M),X=a(C);i(C),i(f),j((z,Z,ee)=>{de(f,1,`review-row ${c===0?"first-row":""} ${c===s.reviews.length-1?"last-row":""}`,"svelte-1iqecnw"),I(k,"href",`/${l(n).projectFullSlug}`),g(H,l(n).projectFullSlug),I(S,"href",z),g(J,Z),g(K,l(n).stackSize||"-"),g(Q,ee),g(X,`v${(l(n).version||"-")??""}`)},[()=>B(l(n)),()=>$(l(n)),()=>he(l(n).updatedAt)]),u(w,f)}),i(v),i(o),u(e,o)},O=e=>{var o=ne(),v=ae(o);{var w=c=>{var f=be();u(c,f)},n=c=>{var f=qe();u(c,f)};A(v,c=>{p()==="loading"?c(w):c(n,!1)},!0)}u(e,o)};A(Y,e=>{s.reviews.length>0?e(G):e(O,!1)})}i(q),j(()=>g(N,m())),u(r,q),se()}export{Ce as R,he as a,Ae as g};
//# sourceMappingURL=D6r_efAc.js.map
