var eo=Object.defineProperty;var no=(r,t,e)=>t in r?eo(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var G=(r,t,e)=>no(r,typeof t!="symbol"?t+"":t,e);import{d as Xt,s as Yt,a as Qe}from"./CPkq-MRm.js";import{a7 as te,a6 as Ze,p as B,aS as ro,a8 as oo,a as U,w as $e,f as Mt,a0 as tn,g as m,Q as tt,b as P,t as Bt,c as gt,r as mt,u as Ct,s as z,n as en,V as st}from"./BX4Dnpro.js";import{o as ft,m as sr,c as Te,g as we,a as H,f as at,t as nn,s as io}from"./DS607QHn.js";import{i as Nt}from"./DrMRszh9.js";import{s as L,b as ke,c as ar,f as rn,a as on}from"./Dbls2O6t.js";import{o as sn,E as so,n as ao,q as C,X as J,Q as _t,R as lt,r as lo,U as j,u as S,v as co,w as uo,J as ho,x as fo,y as q,z as Jt,A as an,D as go,F as lr,G as Se,$ as mo,H as He,K as vn,L as bn,N as Y,O as cr,V as dt,W as Tn,Y as Q,Z as ln,a0 as ur,a1 as dr,a2 as At,a3 as Dt,a4 as _o,a5 as po,a6 as So,a7 as hr,a8 as Kt,a9 as xo,aa as E,ab as yo,ac as cn,ad as Co,ae as vo,af as bo,ag as K,ah as To,ai as wo,aj as ko,ak as Zt,al as fr,am as gr,an as Ke,ao as Eo,ap as xe,aq as mr,ar as un,as as wn,at as kn,au as dn,av as Re,aw as hn,ax as Oo,ay as En,az as No,aA as Ao,aB as Do,aC as On,aD as Mo,aE as Fo,aF as Lo,aG as Po,aH as Io,aI as _r,aJ as Ro,aK as Jo,aL as Wo,aM as Bo,aN as Uo,aO as fn,aP as St,aQ as W,aR as pr,aS as gn,aT as ce,aU as ue,aV as zo,aW as Ho,aX as Ko,aY as qo,aZ as vt,a_ as bt,a$ as jo,b0 as qe,b1 as ot,b2 as Sr,b3 as xr,b4 as Vo,b5 as Go,b6 as Xo,b7 as yr,b8 as Yo,b9 as Qo,ba as Zo,bb as $o,bc as ti,bd as ei,be as Cr,bf as qt,bg as ni,bh as ri,bi as oi,bj as ii,bk as si,bl as vr,bm as br,bn as Tr,bo as ai,bp as li,bq as ci,br as ui,bs as di,bt as hi,bu as wr,I as fi,B as gi}from"./z-ijcZsT.js";import{p as M,b as Qt,s as mi}from"./DQsDk8MY.js";import{r as _i}from"./CC9ffxyf.js";import{a as pi}from"./CgPwrCPE.js";import{c as Si}from"./BmXqRLLS.js";import{i as mn}from"./DEetUlE7.js";import{g as xi}from"./6BIzYspF.js";import{i as yi}from"./CG1L1sNd.js";import{W as Ci}from"./CGrgT5Uy.js";import{l as vi}from"./BegIwIKf.js";import"./CJIe8Wgg.js";import{r as bi}from"./C5U-6dPW.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};r.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new r.Error().stack;t&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[t]="334dcc2f-0b51-40b4-95ae-6d96c99e844a",r._sentryDebugIdIdentifier="sentry-dbid-334dcc2f-0b51-40b4-95ae-6d96c99e844a")})()}catch{}const Ti=sn();function wi(r){const t=lo.exec(r);if(!t)return null;const e=t[2],n=t.index+t[1].length,o=n+e.length+2;return{start:n,end:o,shortCode:e}}function ki(r){const t=so.exec(r);if(!t)return null;const e=t[2],n=t.index+t[1].length,o=n+e.length+1;return{start:n,end:o,searchQuery:e}}class Ee extends lt{constructor(e,n,o){super(n,o);G(this,"__className");this.__className=e}static getType(){return"emoji"}static clone(e){return new Ee(e.__className,e.__text,e.__key)}createDOM(e){const n=document.createElement("span"),o=super.createDOM(e);return n.className=this.__className,o.className="emoji-inner",n.appendChild(o),n}updateDOM(e,n,o){const i=n.firstChild;return i===null?!0:(super.updateDOM(e,i,o),!1)}static importJSON(e){const n=_n(e.className,e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),className:this.getClassName()}}getClassName(){return this.getLatest().__className}}function _n(r,t){const e=new Ee(r,t).setMode("token");return j(e)}function Ei(r,t,e){const n=r.slice(0,t);let o=r.slice(e);return o=o.startsWith(" ")?o:" "+o,[n,o]}function Oi(r){const{selection:t,start:e,end:n,unicode:o}=r;if(!C(t))return;const i=t.getNodes(),s=i[i.length-1];if(!J(s))return;const a=s.getTextContent(),[l,c]=Ei(a,e,n);s.setTextContent(l);const u=_n("emoji",o);s.insertAfter(u),u.insertAfter(_t(c)).selectEnd()}function Ni(r,t,e){if(t===0){const[o]=r.splitText(e);return o}const[,n]=r.splitText(t,e);return n}function Ai(r){const t=r.getTextContent(),e=wi(t);if(!e)return;const n=ao(e.shortCode);if(!n)return;const o=_n("emoji",n.unicode);return Ni(r,e.start,e.end).replace(o),o}const Di=400;class Oe extends lt{constructor(e,n,o){super(e,n);G(this,"__index");G(this,"__total");this.__index=o==null?void 0:o.index,this.__total=o==null?void 0:o.total}static getType(){return"ghostText"}static clone(e){return new Oe(e.__text,e.__key)}getAnimationDelay(){if(this.__index!==void 0&&this.__total!==void 0){const e=Di/this.__total;return`${this.__index*e}ms`}return""}createDOM(e){const n=document.createElement("span"),o=super.createDOM(e);return n.className="ghost-text",n.style.animationDelay=this.getAnimationDelay(),o.className="ghost-text-inner",n.appendChild(o),n}static importJSON(e){const n=Mi(e.text,{index:e.index,total:e.total});return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),type:"ghostText",index:this.__index,total:this.__total}}updateDOM(e,n,o){return n.firstChild===null?!0:super.updateDOM(e,n,o)}canInsertTextBefore(){return!0}canInsertTextAfter(){return!1}isTextEntity(){return!0}getHiddenText(){return this.__text}getTextContent(){return""}}function Mi(r,t,e){return new Oe(r,e,t).setMode("token")}class ee extends lt{static getType(){return"inline-code"}static clone(t){return new ee(t.__text,t.__key)}constructor(t,e){super(t,e)}createDOM(t){const e=document.createElement("code"),n=super.createDOM(t);return e.className="inline-code",n.className="inline-code-inner",e.appendChild(n),e}static importJSON(t){const e=kr(t.code);return e.setFormat(t.format),e.setDetail(t.detail),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"inline-code",code:this.getTextContent()}}updateDOM(t,e,n){const o=e.firstChild;return o===null?!0:(super.updateDOM(t,o,n),!1)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}isTextEntity(){return!0}spliceText(t,e,n,o){const i=super.spliceText(t,e,n,o),s=this.getLatest().__text;if(!s.startsWith("`")||!s.endsWith("`")||s.length<3){const a=_t(s);this.replace(a);const l=S();if(o&&C(l)){const c=Math.min(t+n.length,s.length);a.select(c,c)}return a}return i}setTextContent(t){if(!t.startsWith("`")||!t.endsWith("`")||t.length<3){const n=_t(t);return this.replace(n),n}const e=this.getWritable();return e.__text=t,e}}function kr(r){return new ee(r)}function Fi(r){return r instanceof ee}const Er="@",Li=/(^|\s)(@([a-zA-Z0-9_-]*))$/;function Pi(r,t){return`<<${Er+r}:${t}>>`}function Ga(r){const t=r.match(/^<<@([a-zA-Z0-9_-]+):(@[a-zA-Z0-9_-]+)>>$/);if(t===null)return null;const e=t[1],n=t[2];return[e,n]}function Xa(r){const t=Li.exec(r);if(t===null)return null;const e=t[3].length+1,n=t.index+t[1].length,o=n+e,i=t[3];return{end:o,start:n,username:i}}class Ne extends lt{constructor(e,n,o){super(n,o);G(this,"__id");G(this,"__label");this.__id=e,this.__label=n}static getType(){return"mention"}static clone(e){return new Ne(e.__id,e.__label,e.__key)}createDOM(e){const n=document.createElement("span"),o=super.createDOM(e);return n.className="mention",o.className="mention-inner",n.appendChild(o),n}static importJSON(e){const n=Or(e.id,e.label);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),type:"mention",id:this.__id,label:this.__label}}updateDOM(e,n,o){const i=n.firstChild;return i===null?!0:(super.updateDOM(e,i,o),!1)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!0}isTextEntity(){return!0}getTextContent(){return Pi(this.__id,this.__label)}}function Or(r,t){const e=t;return new Ne(r,e).setMode("token")}function Ii(r,t,e){const n=r.slice(0,t);let o=r.slice(e);return o=o.startsWith(" ")?o:" "+o,[n,o]}function Ya(r){const{selection:t,start:e,end:n,id:o,label:i}=r;if(!C(t))return;const s=t.getNodes(),a=s[s.length-1];if(!J(a))return;const l=a.getTextContent(),[c,u]=Ii(l,e,n);a.setTextContent(c);const d=Or(o,Er+i);a.insertAfter(d),d.insertAfter(_t(u)).selectEnd()}const Ri=new Map;function Ji(r){const t={};if(!r)return t;const e=r.split(";");for(const n of e)if(n!==""){const[o,i]=n.split(/:([^]+)/);o&&i&&(t[o.trim()]=i.trim())}return t}function Nr(r,t){const e=r.getStartEndPoints();if(t.isSelected(r)&&!t.isSegmented()&&!t.isToken()&&e!==null){const[n,o]=e,i=r.isBackward(),s=n.getNode(),a=o.getNode(),l=t.is(s),c=t.is(a);if(l||c){const[u,d]=go(r),h=s.is(a),f=t.is(i?a:s),g=t.is(i?s:a);let v,b=0;return h?(b=u>d?d:u,v=u>d?u:d):f?(b=i?d:u,v=void 0):g&&(b=0,v=i?u:d),t.__text=t.__text.slice(b,v),t}}return t}function Wi(r){const t=r.getStyle(),e=Ji(t);Ri.set(t,e)}function Nn(r,t){const e=co(r.focus,t?"previous":"next");if(uo(e))return!1;for(const n of ho(e)){if(fo(n))return!n.origin.isInline();if(!q(n.origin)){if(Jt(n.origin))return!0;break}}return!1}function Bi(r,t,e,n){r.modify(t?"extend":"move",e,n)}function Ui(r){const t=r.anchor.getNode();return(an(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function An(r,t,e){const n=Ui(r);Bi(r,t,e?!n:n,"character")}function zi(r,t){const e=t.body?t.body.childNodes:[];let n=[];const o=[];for(let i=0;i<e.length;i++){const s=e[i];if(!Dr.has(s.nodeName)){const a=Mr(s,r,o,!1);a!==null&&(n=n.concat(a))}}return(function(i){for(const s of i)s.getNextSibling()instanceof lr&&s.insertAfter(Se());for(const s of i){const a=s.getChildren();for(const l of a)s.insertBefore(l);s.remove()}})(o),n}function Hi(r,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const e=document.createElement("div"),n=Y().getChildren();for(let o=0;o<n.length;o++)Ar(r,n[o],e,t);return e.innerHTML}function Ar(r,t,e,n=null){let o=n===null||t.isSelected(n);const i=q(t)&&t.excludeFromCopy("html");let s=t;if(n!==null){let f=cr(t);f=J(f)&&n!==null?Nr(n,f):f,s=f}const a=q(s)?s.getChildren():[],l=r._nodes.get(s.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(r,s):s.exportDOM(r);const{element:u,after:d}=c;if(!u)return!1;const h=document.createDocumentFragment();for(let f=0;f<a.length;f++){const g=a[f],v=Ar(r,g,h,n);!o&&q(t)&&v&&t.extractWithChild(g,n,"html")&&(o=!0)}if(o&&!i){if((dt(u)||Tn(u))&&u.append(h),e.append(u),d){const f=d.call(s,u);f&&(Tn(u)?u.replaceChildren(f):u.replaceWith(f))}}else e.append(h);return o}const Dr=new Set(["STYLE","SCRIPT"]);function Mr(r,t,e,n,o=new Map,i){let s=[];if(Dr.has(r.nodeName))return s;let a=null;const l=(function(g,v){const{nodeName:b}=g,D=v._htmlConversions.get(b.toLowerCase());let T=null;if(D!==void 0)for(const _ of D){const p=_(g);p!==null&&(T===null||(T.priority||0)<=(p.priority||0))&&(T=p)}return T!==null?T.conversion:null})(r,t),c=l?l(r):null;let u=null;if(c!==null){u=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,v]of o)if(a=v(a,i),!a)break;a&&s.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&o.set(r.nodeName,c.forChild)}const d=r.childNodes;let h=[];const f=(a==null||!mo(a))&&(a!=null&&He(a)||n);for(let g=0;g<d.length;g++)h.push(...Mr(d[g],t,e,f,new Map(o),a));return u!=null&&(h=u(h)),vn(r)&&(h=Ki(r,h,f?()=>{const g=new lr;return e.push(g),g}:Q)),a==null?h.length>0?s=s.concat(h):vn(r)&&(function(g){return g.nextSibling==null||g.previousSibling==null?!1:bn(g.nextSibling)&&bn(g.previousSibling)})(r)&&(s=s.concat(Se())):q(a)&&a.append(...h),s}function Ki(r,t,e){const n=r.style.textAlign,o=[];let i=[];for(let s=0;s<t.length;s++){const a=t[s];if(He(a))n&&!a.getFormat()&&a.setFormat(n),o.push(a);else if(i.push(a),s===t.length-1||s<t.length-1&&He(t[s+1])){const l=e();l.setFormat(n),l.append(...i),o.push(l),i=[]}}return o}function ye(r,...t){const e=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",r);for(const o of t)n.append("v",o);throw e.search=n.toString(),Error(`Minified Lexical error #${r}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function qi(r,t=S()){return t==null&&ye(166),C(t)&&t.isCollapsed()||t.getNodes().length===0?"":Hi(r,t)}function ji(r,t=S()){return t==null&&ye(166),C(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Vi(r,t))}function Dn(r,t,e){const n=r.getData("application/x-lexical-editor");if(n)try{const a=JSON.parse(n);if(a.namespace===e._config.namespace&&Array.isArray(a.nodes))return Mn(e,Gi(a.nodes),t)}catch{}const o=r.getData("text/html"),i=r.getData("text/plain");if(o&&i!==o)try{const a=new DOMParser().parseFromString((function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(l):l})(o),"text/html");return Mn(e,zi(e,a),t)}catch{}const s=i||r.getData("text/uri-list");if(s!=null)if(C(t)){const a=s.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const c=S();if(C(c)){const u=a[l];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([ln()]):c.insertText(u)}}}else t.insertRawText(s)}function Mn(r,t,e){r.dispatchCommand(_o,{nodes:t,selection:e})||e.insertNodes(t)}function Fr(r,t,e,n=[]){let o=t===null||e.isSelected(t);const i=q(e)&&e.excludeFromCopy("html");let s=e;if(t!==null){let c=cr(e);c=J(c)&&t!==null?Nr(t,c):c,s=c}const a=q(s)?s.getChildren():[],l=(function(c){const u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&ye(58,d.name),q(c)){const h=u.children;Array.isArray(h)||ye(59,d.name)}return u})(s);if(J(s)){const c=s.__text;c.length>0?l.text=c:o=!1}for(let c=0;c<a.length;c++){const u=a[c],d=Fr(r,t,u,l.children);!o&&q(e)&&d&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!i)n.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];n.push(u)}return o}function Vi(r,t){const e=[],n=Y().getChildren();for(let o=0;o<n.length;o++)Fr(r,t,n[o],e);return{namespace:r._config.namespace,nodes:e}}function Gi(r){const t=[];for(let e=0;e<r.length;e++){const n=r[e],o=po(n);J(o)&&Wi(o),t.push(o)}return t}let It=null;async function Fn(r,t,e){if(It!==null)return!1;if(t!==null)return new Promise(((c,u)=>{r.update((()=>{c(Ln(r,t,e))}))}));const n=r.getRootElement(),o=r._window||window,i=window.document,s=ur(o);if(n===null||s===null)return!1;const a=i.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(i.createTextNode("#")),n.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),s.removeAllRanges(),s.addRange(l),new Promise(((c,u)=>{const d=r.registerCommand(dr,(h=>(At(h,ClipboardEvent)&&(d(),It!==null&&(window.clearTimeout(It),It=null),c(Ln(r,h,e))),!0)),Dt);It=window.setTimeout((()=>{d(),It=null,c(!1)}),50),i.execCommand("copy"),a.remove()}))}function Ln(r,t,e){if(e===void 0){const o=ur(r._window);if(!o)return!1;const i=o.anchorNode,s=o.focusNode;if(i!==null&&s!==null&&!So(r,i,s))return!1;const a=S();if(a===null)return!1;e=Yi(a)}t.preventDefault();const n=t.clipboardData;return n!==null&&(Qi(n,e),!0)}const Xi=[["text/html",qi],["application/x-lexical-editor",ji]];function Yi(r=S()){const t={"text/plain":r?r.getTextContent():""};if(r){const e=hr();for(const[n,o]of Xi){const i=o(e,r);i!==null&&(t[n]=i)}}return t}function Qi(r,t){for(const e in t){const n=t[e];n!==void 0&&r.setData(e,n)}}function Tt(){return Ze("editor")}function Zi(r){te("editor",r)}function $i(){return Ze("isEditable")}function ts(r){te("historyState",r)}function es(){te("editorSharedContext",{})}function ns(){return Ze("editorSharedContext")}function rs(){return ns().ImageHistoryComponentType}function Pn(r,t){if(document.caretRangeFromPoint!==void 0){const e=document.caretRangeFromPoint(r,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const e=document.caretPositionFromPoint(r,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}const jt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,os=jt&&"documentMode"in document?document.documentMode:null,is=!(!jt||!("InputEvent"in window)||os)&&"getTargetRanges"in new window.InputEvent("input"),ss=jt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),In=jt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,as=jt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ls=jt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!as,Rn=sn();class Ae extends St{static getType(){return"quote"}static clone(t){return new Ae(t.__key)}createDOM(t){const e=document.createElement("blockquote");return W(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:cs,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(dt(e)){this.isEmpty()&&e.append(document.createElement("br"));const n=this.getFormatType();e.style.textAlign=n;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){return Lr().updateFromJSON(t)}insertNewAfter(t,e){const n=Q(),o=this.getDirection();return n.setDirection(o),this.insertAfter(n,e),n}collapseAtStart(){const t=Q();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}canMergeWhenEmpty(){return!0}}function Lr(){return j(new Ae)}class De extends St{static getType(){return"heading"}static clone(t){return new De(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}setTag(t){const e=this.getWritable();return this.__tag=t,e}createDOM(t){const e=this.__tag,n=document.createElement(e),o=t.theme.heading;if(o!==void 0){const i=o[e];W(n,i)}return n}updateDOM(t,e,n){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:Rt,priority:0}),h2:t=>({conversion:Rt,priority:0}),h3:t=>({conversion:Rt,priority:0}),h4:t=>({conversion:Rt,priority:0}),h5:t=>({conversion:Rt,priority:0}),h6:t=>({conversion:Rt,priority:0}),p:t=>{const e=t.firstChild;return e!==null&&Jn(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>Jn(t)?{conversion:e=>({node:Vt("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(dt(e)){this.isEmpty()&&e.append(document.createElement("br"));const n=this.getFormatType();e.style.textAlign=n;const o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){return Vt(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,e=!0){const n=t?t.anchor.offset:0,o=this.getLastDescendant(),i=!o||t&&t.anchor.key===o.getKey()&&n===o.getTextContentSize()||!t?Q():Vt(this.getTag()),s=this.getDirection();if(i.setDirection(s),this.insertAfter(i,e),n===0&&!this.isEmpty()&&t){const a=Q();a.select(),this.replace(a,!0)}return i}collapseAtStart(){const t=this.isEmpty()?Q():Vt(this.getTag());return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}extractWithChild(){return!0}}function Jn(r){return r.nodeName.toLowerCase()==="span"&&r.style.fontSize==="26pt"}function Rt(r){const t=r.nodeName.toLowerCase();let e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=Vt(t),r.style!==null&&(pr(r,e),e.setFormat(r.style.textAlign))),{node:e}}function cs(r){const t=Lr();return r.style!==null&&(t.setFormat(r.style.textAlign),pr(r,t)),{node:t}}function Vt(r="h1"){return j(new De(r))}function de(r){let t=null;if(At(r,DragEvent)?t=r.dataTransfer:At(r,ClipboardEvent)&&(t=r.clipboardData),t===null)return[!1,[],!1];const e=t.types,n=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[n,Array.from(t.files),o]}function Wn(r){const t=S();if(!C(t))return!1;const e=new Set,n=t.getNodes();for(let o=0;o<n.length;o++){const i=n[o],s=i.getKey();if(e.has(s))continue;const a=_r(i,(c=>q(c)&&!c.isInline()));if(a===null)continue;const l=a.getKey();a.canIndent()&&!e.has(l)&&(e.add(l),r(a))}return e.size>0}function he(r){const t=Zt(r);return Jt(t)}function Je(r){for(const t of["lowercase","uppercase","capitalize"])r.hasFormat(t)&&r.toggleFormat(t)}function us(r){return Kt(r.registerCommand(fn,(t=>{const e=S();return!!K(e)&&(e.clear(),!0)}),0),r.registerCommand(Re,(t=>{const e=S();return!!C(e)&&(e.deleteCharacter(t),!0)}),E),r.registerCommand(Uo,(t=>{const e=S();return!!C(e)&&(e.deleteWord(t),!0)}),E),r.registerCommand(Bo,(t=>{const e=S();return!!C(e)&&(e.deleteLine(t),!0)}),E),r.registerCommand(Wo,(t=>{const e=S();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;const n=t.dataTransfer;if(n!=null)Dn(n,e,r);else if(C(e)){const o=t.data;return o&&e.insertText(o),!0}}return!0}),E),r.registerCommand(Jo,(()=>{const t=S();return!!C(t)&&(t.removeText(),!0)}),E),r.registerCommand(Ro,(t=>{const e=S();return!!C(e)&&(e.formatText(t),!0)}),E),r.registerCommand(Io,(t=>{const e=S();if(!C(e)&&!K(e))return!1;const n=e.getNodes();for(const o of n){const i=_r(o,(s=>q(s)&&!s.isInline()));i!==null&&i.setFormat(t)}return!0}),E),r.registerCommand(wn,(t=>{const e=S();return!!C(e)&&(e.insertLineBreak(t),!0)}),E),r.registerCommand(kn,(()=>{const t=S();return!!C(t)&&(t.insertParagraph(),!0)}),E),r.registerCommand(Lo,(()=>(Po([ln()]),!0)),E),r.registerCommand(Fo,(()=>Wn((t=>{const e=t.getIndent();t.setIndent(e+1)}))),E),r.registerCommand(En,(()=>Wn((t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}))),E),r.registerCommand(Mo,(t=>{const e=S();if(K(e)&&!he(t.target)){const n=e.getNodes();if(n.length>0)return n[0].selectPrevious(),!0}else if(C(e)){const n=On(e.focus,!0);if(!t.shiftKey&&Jt(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1}),E),r.registerCommand(Do,(t=>{const e=S();if(K(e)){const n=e.getNodes();if(n.length>0)return n[0].selectNext(0,0),!0}else if(C(e)){if((function(o){const i=o.focus;return i.key==="root"&&i.offset===Y().getChildrenSize()})(e))return t.preventDefault(),!0;const n=On(e.focus,!1);if(!t.shiftKey&&Jt(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1}),E),r.registerCommand(Ao,(t=>{const e=S();if(K(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!C(e))return!1;if(Nn(e,!0)){const n=t.shiftKey;return t.preventDefault(),An(e,n,!0),!0}return!1}),E),r.registerCommand(No,(t=>{const e=S();if(K(e)&&!he(t.target)){const o=e.getNodes();if(o.length>0)return t.preventDefault(),o[0].selectNext(0,0),!0}if(!C(e))return!1;const n=t.shiftKey;return!!Nn(e,!1)&&(t.preventDefault(),An(e,n,!1),!0)}),E),r.registerCommand(hn,(t=>{if(he(t.target))return!1;const e=S();if(!C(e))return!1;const{anchor:n}=e,o=n.getNode();return e.isCollapsed()&&n.offset===0&&!an(o)&&Oo(o).getIndent()>0?(t.preventDefault(),r.dispatchCommand(En,void 0)):(!In||navigator.language!=="ko-KR")&&(t.preventDefault(),r.dispatchCommand(Re,!0))}),E),r.registerCommand(dn,(t=>{if(he(t.target))return!1;const e=S();return!!C(e)&&(t.preventDefault(),r.dispatchCommand(Re,!1))}),E),r.registerCommand(un,(t=>{const e=S();if(!C(e))return!1;if(Je(e),t!==null){if((In||ss||ls)&&is)return!1;if(t.preventDefault(),t.shiftKey)return r.dispatchCommand(wn,!1)}return r.dispatchCommand(kn,void 0)}),E),r.registerCommand(mr,(()=>{const t=S();return!!C(t)&&(r.blur(),!0)}),E),r.registerCommand(gr,(t=>{const[,e]=de(t);if(e.length>0){const o=Pn(t.clientX,t.clientY);if(o!==null){const{offset:i,node:s}=o,a=Zt(s);if(a!==null){const l=Ke();if(J(a))l.anchor.set(a.getKey(),i,"text"),l.focus.set(a.getKey(),i,"text");else{const u=a.getParentOrThrow().getKey(),d=a.getIndexWithinParent()+1;l.anchor.set(u,d,"element"),l.focus.set(u,d,"element")}const c=Eo(l);xe(c)}r.dispatchCommand(Rn,e)}return t.preventDefault(),!0}const n=S();return!!C(n)}),E),r.registerCommand(fr,(t=>{const[e]=de(t),n=S();return!(e&&!C(n))}),E),r.registerCommand(ko,(t=>{const[e]=de(t),n=S();if(e&&!C(n))return!1;const o=Pn(t.clientX,t.clientY);if(o!==null){const i=Zt(o.node);Jt(i)&&t.preventDefault()}return!0}),E),r.registerCommand(To,(()=>(wo(),!0)),E),r.registerCommand(dr,(t=>(Fn(r,At(t,ClipboardEvent)?t:null),!0)),E),r.registerCommand(bo,(t=>((async function(e,n){await Fn(n,At(e,ClipboardEvent)?e:null),n.update((()=>{const o=S();C(o)?o.removeText():K(o)&&o.getNodes().forEach((i=>i.remove()))}))})(t,r),!0)),E),r.registerCommand(cn,(t=>{const[,e,n]=de(t);return e.length>0&&!n?(r.dispatchCommand(Rn,e),!0):Co(t.target)&&vo(t.target)?!1:S()!==null&&((function(o,i){o.preventDefault(),i.update((()=>{const s=S(),a=At(o,InputEvent)||At(o,KeyboardEvent)?null:o.clipboardData;a!=null&&s!==null&&Dn(a,s,i)}),{tag:"paste"})})(t,r),!0)}),E),r.registerCommand(yo,(t=>{const e=S();return C(e)&&Je(e),!1}),E),r.registerCommand(xo,(t=>{const e=S();return C(e)&&Je(e),!1}),E))}function ds(r,t){B(t,!0);const e=ro(),n=Tt(),o={},i=[];ft(()=>{const s=[];return n._nodes.forEach(a=>{if(a.klass.prototype instanceof gn&&!a.klass.skipDecorateRender){let l=n.registerMutationListener(a.klass,(c,u)=>{for(let[d,h]of c)h==="destroyed"?delete o[d]:i.push(d)});s.push(l)}}),Kt(...s,n.registerDecoratorListener(a=>{i.forEach(l=>{const c=a[l],u=o[l],d=n.getElementByKey(l);if(d!=null&&d.innerHTML&&u){const h=o[l];c.updateProps(h)}else if(d){const h=oo({});c.updateProps(h),o[l]=h,sr(c.componentClass,{target:d,props:h,context:e})}}),i.length=0}))}),U()}function Pr(r,t){B(t,!1);const e=Tt();ft(()=>us(e)),mn(),ds(r,{}),U()}const fe=0,je=1,Ve=2,it=0,hs=1,Bn=2,fs=3,gs=4;function ms(r,t,e,n,o){if(r===null||e.size===0&&n.size===0&&!o)return it;const i=t._selection,s=r._selection;if(o)return hs;if(!(C(i)&&C(s)&&s.isCollapsed()&&i.isCollapsed()))return it;const a=(function(D,T,_){const p=D._nodeMap,O=[];for(const N of T){const y=p.get(N);y!==void 0&&O.push(y)}for(const[N,y]of _){if(!y)continue;const I=p.get(N);I===void 0||an(I)||O.push(I)}return O})(t,e,n);if(a.length===0)return it;if(a.length>1){const D=t._nodeMap,T=D.get(i.anchor.key),_=D.get(s.anchor.key);return T&&_&&!r._nodeMap.has(T.__key)&&J(T)&&T.__text.length===1&&i.anchor.offset===1?Bn:it}const l=a[0],c=r._nodeMap.get(l.__key);if(!J(c)||!J(l)||c.__mode!==l.__mode)return it;const u=c.__text,d=l.__text;if(u===d)return it;const h=i.anchor,f=s.anchor;if(h.key!==f.key||h.type!=="text")return it;const g=h.offset,v=f.offset,b=d.length-u.length;return b===1&&v===g-1?Bn:b===-1&&v===g+1?fs:b===-1&&v===g?gs:it}function _s(r,t){let e=Date.now(),n=it;return(o,i,s,a,l,c)=>{const u=Date.now();if(c.has("historic"))return n=it,e=u,Ve;const d=ms(o,i,a,l,r.isComposing()),h=(()=>{const f=s===null||s.editor===r,g=c.has("history-push");if(!g&&f&&c.has("history-merge"))return fe;if(o===null)return je;const v=i._selection;return a.size>0||l.size>0?g===!1&&d!==it&&d===n&&u<e+t&&f||a.size===1&&(function(b,D,T){const _=D._nodeMap.get(b),p=T._nodeMap.get(b),O=D._selection,N=T._selection;return!(C(O)&&C(N)&&O.anchor.type==="element"&&O.focus.type==="element"&&N.anchor.type==="text"&&N.focus.type==="text"||!J(_)||!J(p)||_.__parent!==p.__parent)&&JSON.stringify(D.read((()=>_.exportJSON())))===JSON.stringify(T.read((()=>p.exportJSON())))})(Array.from(a)[0],o,i)?fe:je:v!==null?fe:Ve})();return e=u,n=d,h}}function Un(r){r.undoStack=[],r.redoStack=[],r.current=null}function ps(r,t,e){const n=_s(r,e);return Kt(r.registerCommand(qo,(()=>((function(i,s){const a=s.redoStack,l=s.undoStack;if(l.length!==0){const c=s.current,u=l.pop();c!==null&&(a.push(c),i.dispatchCommand(ce,!0)),l.length===0&&i.dispatchCommand(ue,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}})(r,t),!0)),E),r.registerCommand(Ko,(()=>((function(i,s){const a=s.redoStack,l=s.undoStack;if(a.length!==0){const c=s.current;c!==null&&(l.push(c),i.dispatchCommand(ue,!0));const u=a.pop();a.length===0&&i.dispatchCommand(ce,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}})(r,t),!0)),E),r.registerCommand(Ho,(()=>(Un(t),!1)),E),r.registerCommand(zo,(()=>(Un(t),r.dispatchCommand(ce,!1),r.dispatchCommand(ue,!1),!0)),E),r.registerUpdateListener((({editorState:i,prevEditorState:s,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const u=t.current,d=t.redoStack,h=t.undoStack,f=u===null?null:u.editorState;if(u!==null&&i===f)return;const g=n(s,i,u,a,l,c);if(g===je)d.length!==0&&(t.redoStack=[],r.dispatchCommand(ce,!1)),u!==null&&(h.push({...u}),r.dispatchCommand(ue,!0));else if(g===Ve)return;t.current={editor:r,editorState:i}})))}function Ir(){return{current:null,redoStack:[],undoStack:[]}}function Ss(r,t){B(t,!0);const e=Tt();let n=M(t,"externalHistoryState",19,Ir),o=M(t,"delay",3,1e3);ft(()=>ps(e,n(),o())),U()}function Ot(r,...t){const e=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",r);for(const o of t)n.append("v",o);throw e.search=n.toString(),Error(`Minified Lexical error #${r}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function xs(r){let t=1,e=r.getParent();for(;e!=null;){if(X(e)){const n=e.getParent();if(F(n)){t++,e=n.getParent();continue}Ot(40)}return t}return t}function ut(r){return X(r)&&F(r.getFirstChild())}function zn(r){return pt().append(r)}function Rr(r,t){r.splice(r.getChildrenSize(),0,t)}function pn(r,t){const e=r.getLastChild(),n=t.getFirstChild();e&&n&&ut(e)&&ut(n)&&(pn(e.getFirstChild(),n.getFirstChild()),n.remove());const o=t.getChildren();o.length>0&&r.append(...o),t.remove()}function ys(r){const t=new Set;if(ut(r)||t.has(r.getKey()))return;const e=r.getParent(),n=r.getNextSibling(),o=r.getPreviousSibling();if(ut(n)&&ut(o)){const i=o.getFirstChild();if(F(i)){i.append(r);const s=n.getFirstChild();F(s)&&(Rr(i,s.getChildren()),n.remove(),t.add(n.getKey()))}}else if(ut(n)){const i=n.getFirstChild();if(F(i)){const s=i.getFirstChild();s!==null&&s.insertBefore(r)}}else if(ut(o)){const i=o.getFirstChild();F(i)&&i.append(r)}else if(F(e)){const i=pt().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),s=ht(e.getListType()).setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle());i.append(s),s.append(r),o?o.insertAfter(i):n?n.insertBefore(i):e.append(i)}}function Cs(r){if(ut(r))return;const t=r.getParent(),e=t?t.getParent():void 0;if(F(e?e.getParent():void 0)&&X(e)&&F(t)){const n=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(r.is(n))e.insertBefore(r),t.isEmpty()&&e.remove();else if(r.is(o))e.insertAfter(r),t.isEmpty()&&e.remove();else{const i=t.getListType(),s=pt(),a=ht(i);s.append(a),r.getPreviousSiblings().forEach((u=>a.append(u)));const l=pt(),c=ht(i);l.append(c),Rr(c,r.getNextSiblings()),e.insertBefore(s),e.insertAfter(l),e.replace(r)}}}function Ce(...r){const t=[];for(const e of r)if(e&&typeof e=="string")for(const[n]of e.matchAll(/\S+/g))t.push(n);return t}class Ut extends St{static getType(){return"listitem"}static clone(t){return new Ut(t.__value,t.__checked,t.__key)}constructor(t,e,n){super(n),this.__value=t===void 0?1:t,this.__checked=e}createDOM(t){const e=document.createElement("li"),n=this.getParent();F(n)&&n.getListType()==="check"&&Kn(e,this,null),e.value=this.__value,Hn(e,t.theme,this);const o=this.__style||this.__textStyle;return o&&(e.style.cssText=o),e}updateDOM(t,e,n){const o=this.getParent();F(o)&&o.getListType()==="check"&&Kn(e,this,t),e.value=this.__value,Hn(e,n.theme,this);const i=t.__style||t.__textStyle,s=this.__style||this.__textStyle;return i!==s&&(e.style.cssText=s,s===""&&e.removeAttribute("style")),!1}static transform(){return t=>{if(X(t)||Ot(144),t.__checked==null)return;const e=t.getParent();F(e)&&e.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:vs,priority:0})}}static importJSON(t){return pt().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const e=this.createDOM(t._config);e.style.textAlign=this.getFormatType();const n=this.getDirection();return n&&(e.dir=n),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let e=0;e<t.length;e++){const n=t[e];if(q(n)&&this.canMergeWith(n)){const o=n.getChildren();this.append(...o),n.remove()}else super.append(n)}return this}replace(t,e){if(X(t))return super.replace(t);this.setIndent(0);const n=this.getParentOrThrow();if(!F(n))return t;if(n.__first===this.getKey())n.insertBefore(t);else if(n.__last===this.getKey())n.insertAfter(t);else{const o=ht(n.getListType());let i=this.getNextSibling();for(;i;){const s=i;i=i.getNextSibling(),o.append(s)}n.insertAfter(t),t.insertAfter(o)}return e&&(q(t)||Ot(139),this.getChildren().forEach((o=>{t.append(o)}))),this.remove(),n.getChildrenSize()===0&&n.remove(),t}insertAfter(t,e=!0){const n=this.getParentOrThrow();if(F(n)||Ot(39),X(t))return super.insertAfter(t,e);const o=this.getNextSiblings();if(n.insertAfter(t,e),o.length!==0){const i=ht(n.getListType());o.forEach((s=>i.append(s))),t.insertAfter(i,e)}return t}remove(t){const e=this.getPreviousSibling(),n=this.getNextSibling();super.remove(t),e&&n&&ut(e)&&ut(n)&&(pn(e.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(t,e=!0){const n=pt().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,e),n}collapseAtStart(t){const e=Q();this.getChildren().forEach((s=>e.append(s)));const n=this.getParentOrThrow(),o=n.getParentOrThrow(),i=X(o);if(n.getChildrenSize()===1)if(i)n.remove(),o.select();else{n.insertBefore(e),n.remove();const s=t.anchor,a=t.focus,l=e.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(l,s.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else n.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const e=this.getWritable();return e.__value=t,e}getChecked(){const t=this.getLatest();let e;const n=this.getParent();return F(n)&&(e=n.getListType()),e==="check"?!!t.__checked:void 0}setChecked(t){const e=this.getWritable();return e.__checked=t,e}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let e=t.getParentOrThrow(),n=0;for(;X(e);)e=e.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(t){typeof t!="number"&&Ot(117),(t=Math.floor(t))>=0||Ot(199);let e=this.getIndent();for(;e!==t;)e<t?(ys(this),e++):(Cs(this),e--);return this}canInsertAfter(t){return X(t)}canReplaceWith(t){return X(t)}canMergeWith(t){return X(t)||vt(t)}extractWithChild(t,e){if(!C(e))return!1;const n=e.anchor.getNode(),o=e.focus.getNode();return this.isParentOf(n)&&this.isParentOf(o)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return ht("bullet")}canMergeWhenEmpty(){return!0}}function Hn(r,t,e){const n=[],o=[],i=t.list,s=i?i.listitem:void 0;let a;if(i&&i.nested&&(a=i.nested.listitem),s!==void 0&&n.push(...Ce(s)),i){const l=e.getParent(),c=F(l)&&l.getListType()==="check",u=e.getChecked();c&&!u||o.push(i.listitemUnchecked),c&&u||o.push(i.listitemChecked),c&&n.push(u?i.listitemChecked:i.listitemUnchecked)}if(a!==void 0){const l=Ce(a);e.getChildren().some((c=>F(c)))?n.push(...l):o.push(...l)}o.length>0&&bt(r,...o),n.length>0&&W(r,...n)}function Kn(r,t,e,n){F(t.getFirstChild())?(r.removeAttribute("role"),r.removeAttribute("tabIndex"),r.removeAttribute("aria-checked")):(r.setAttribute("role","checkbox"),r.setAttribute("tabIndex","-1"),e&&t.__checked===e.__checked||r.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function vs(r){if(r.classList.contains("task-list-item")){for(const e of r.children)if(e.tagName==="INPUT")return bs(e)}const t=r.getAttribute("aria-checked");return{node:pt(t==="true"||t!=="false"&&void 0)}}function bs(r){return r.getAttribute("type")!=="checkbox"?{node:null}:{node:pt(r.hasAttribute("checked"))}}function pt(r){return j(new Ut(void 0,r))}function X(r){return r instanceof Ut}class zt extends St{static getType(){return"list"}static clone(t){const e=t.__listType||Vn[t.__tag];return new zt(e,t.__start,t.__key)}constructor(t="number",e=1,n){super(n);const o=Vn[t]||t;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=e}getTag(){return this.__tag}setListType(t){const e=this.getWritable();return e.__listType=t,e.__tag=t==="number"?"ol":"ul",e}getListType(){return this.__listType}getStart(){return this.__start}setStart(t){const e=this.getWritable();return e.__start=t,e}createDOM(t,e){const n=this.__tag,o=document.createElement(n);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,qn(o,t.theme,this),o}updateDOM(t,e,n){return t.__tag!==this.__tag||(qn(e,n.theme,this),!1)}static transform(){return t=>{F(t)||Ot(163),(function(e){const n=e.getNextSibling();F(n)&&e.getListType()===n.getListType()&&pn(e,n)})(t),(function(e){const n=e.getListType()!=="check";let o=e.getStart();for(const i of e.getChildren())X(i)&&(i.getValue()!==o&&i.setValue(o),n&&i.getLatest().__checked!=null&&i.setChecked(void 0),F(i.getFirstChild())||o++)})(t)}}static importDOM(){return{ol:()=>({conversion:jn,priority:0}),ul:()=>({conversion:jn,priority:0})}}static importJSON(t){return ht().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const e=this.createDOM(t._config,t);return dt(e)&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let e=0;e<t.length;e++){const n=t[e];if(X(n))super.append(n);else{const o=pt();if(F(n))o.append(n);else if(q(n))if(n.isInline())o.append(n);else{const i=_t(n.getTextContent());o.append(i)}else o.append(n);super.append(o)}}return this}extractWithChild(t){return X(t)}}function qn(r,t,e){const n=[],o=[],i=t.list;if(i!==void 0){const s=i[`${e.__tag}Depth`]||[],a=xs(e)-1,l=a%s.length,c=s[l],u=i[e.__tag];let d;const h=i.nested,f=i.checklist;if(h!==void 0&&h.list&&(d=h.list),u!==void 0&&n.push(u),f!==void 0&&e.__listType==="check"&&n.push(f),c!==void 0){n.push(...Ce(c));for(let g=0;g<s.length;g++)g!==l&&o.push(e.__tag+g)}if(d!==void 0){const g=Ce(d);a>1?n.push(...g):o.push(...g)}}o.length>0&&bt(r,...o),n.length>0&&W(r,...n)}function Ts(r){const t=[];for(let e=0;e<r.length;e++){const n=r[e];if(X(n)){t.push(n);const o=n.getChildren();o.length>1&&o.forEach((i=>{F(i)&&t.push(zn(i))}))}else t.push(zn(n))}return t}function jn(r){const t=r.nodeName.toLowerCase();let e=null;return t==="ol"?e=ht("number",r.start):t==="ul"&&(e=(function(n){if(n.getAttribute("__lexicallisttype")==="check"||n.classList.contains("contains-task-list"))return!0;for(const o of n.childNodes)if(dt(o)&&o.hasAttribute("aria-checked"))return!0;return!1})(r)?ht("check"):ht("bullet")),{after:Ts,node:e}}const Vn={ol:"number",ul:"bullet"};function ht(r="number",t=1){return j(new zt(r,t))}function F(r){return r instanceof zt}function ws(r,t){return r.getEditorState().read(()=>{const e=qe(t);return e===null?!1:e.isSelected()})}function Jr(r){r.update(()=>{const t=S();K(t)&&t.clear()})}function Wr(r,t){const{subscribe:e,set:n}=$e(!1);return r.registerUpdateListener(()=>{n(ws(r,t))}),{subscribe:e,set:o=>{r.update(()=>{let i=S();K(i)||(i=jo(),xe(i)),K(i)&&(o?i.add(t):i.delete(t))})}}}function ks(r,t){B(t,!0);const[e,n]=Qe(),o=()=>Yt(i,"$isSelected",e);let i=Wr(t.editor,t.nodeKey);const s=t.editor._config.theme.hrSelected??"selected";_i(()=>{o()?W(t.self,s):bt(t.self,s)});function a(l){const c=S();return o()&&K(c)&&(l.preventDefault(),c.getNodes().forEach(u=>{Os(u)&&u.remove()})),!1}ft(()=>Kt(t.editor.registerCommand(fn,l=>l.target===t.self?(l.shiftKey||Jr(t.editor),Xt(i,!o()),!0):!1,ot),t.editor.registerCommand(dn,a,ot),t.editor.registerCommand(hn,a,ot))),U(),n()}const be=class be extends gn{static getType(){return"horizontalrule"}static clone(t){return new be(t.__key)}static importJSON(t){return Br().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:Es,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t,e){const n=document.createElement("hr");return W(n,t.theme.hr),sr(ks,{target:n,props:{nodeKey:this.__key,editor:e,self:n}}),n}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return null}};G(be,"skipDecorateRender",!0);let $t=be;function Es(){return{node:Br()}}function Br(){return j(new $t)}function Os(r){return r instanceof $t}class Me extends lt{static getType(){return"hashtag"}static clone(t){return new Me(t.__text,t.__key)}createDOM(t){const e=super.createDOM(t);return W(e,t.theme.hashtag),e}static importJSON(t){return Ns().updateFromJSON(t)}canInsertTextBefore(){return!1}isTextEntity(){return!0}}function Ns(r=""){return j(new Me(r))}const As=new Set(["http:","https:","mailto:","sms:","tel:"]);class Ft extends St{static getType(){return"link"}static clone(t){return new Ft(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",e={},n){super(n);const{target:o=null,rel:i=null,title:s=null}=e;this.__url=t,this.__target=o,this.__rel=i,this.__title=s}createDOM(t){const e=document.createElement("a");return e.href=this.sanitizeUrl(this.__url),this.__target!==null&&(e.target=this.__target),this.__rel!==null&&(e.rel=this.__rel),this.__title!==null&&(e.title=this.__title),W(e,t.theme.link),e}updateDOM(t,e,n){if(Sr(e)){const o=this.__url,i=this.__target,s=this.__rel,a=this.__title;o!==t.__url&&(e.href=o),i!==t.__target&&(i?e.target=i:e.removeAttribute("target")),s!==t.__rel&&(s?e.rel=s:e.removeAttribute("rel")),a!==t.__title&&(a?e.title=a:e.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:Ds,priority:1})}}static importJSON(t){return Ge().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){try{const e=new URL(t);if(!As.has(e.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const e=this.getWritable();return e.__url=t,e}getTarget(){return this.getLatest().__target}setTarget(t){const e=this.getWritable();return e.__target=t,e}getRel(){return this.getLatest().__rel}setRel(t){const e=this.getWritable();return e.__rel=t,e}getTitle(){return this.getLatest().__title}setTitle(t){const e=this.getWritable();return e.__title=t,e}insertNewAfter(t,e=!0){const n=Ge(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,e),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,n){if(!C(e))return!1;const o=e.anchor.getNode(),i=e.focus.getNode();return this.isParentOf(o)&&this.isParentOf(i)&&e.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function Ds(r){let t=null;if(Sr(r)){const e=r.textContent;(e!==null&&e!==""||r.children.length>0)&&(t=Ge(r.getAttribute("href")||"",{rel:r.getAttribute("rel"),target:r.getAttribute("target"),title:r.getAttribute("title")}))}return{node:t}}function Ge(r="",t){return j(new Ft(r,t))}class Fe extends Ft{constructor(t="",e={},n){super(t,e,n),this.__isUnlinked=e.isUnlinked!==void 0&&e.isUnlinked!==null&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new Fe(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const e=this.getWritable();return e.__isUnlinked=t,e}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,e,n){return super.updateDOM(t,e,n)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return Gn().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,e=!0){const n=this.getParentOrThrow().insertNewAfter(t,e);if(q(n)){const o=Gn(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(o),o}return null}}function Gn(r="",t){return j(new Fe(r,t))}class ne extends lt{static getType(){return"keyword"}static clone(t){return new ne(t.__text,t.__key)}static importJSON(t){return Ms().updateFromJSON(t)}createDOM(t){const e=super.createDOM(t);return e.style.cursor="default",e.className="keyword",e}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}isTextEntity(){return!0}}function Ms(r=""){return j(new ne(r))}function Fs(r,t){B(t,!0);let e=M(t,"initialEditor",15),n=M(t,"initialTheme",3,null),o=M(t,"initialNodes",3,null);function i(c){const u=c.transform();return u!==null?new Set([u]):new Set}te("editor",e());const s=n()||t.parentEditor._config.theme;if(s&&e(e()._config.theme=s,!0),e(e()._parentEditor=t.parentEditor,!0),o())for(const c of o()){const u=c.getType(),d=e()._nodes.get(c.getType());e()._nodes.set(u,{exportDOM:d?d.exportDOM:void 0,klass:c,replace:null,replaceWithKlass:null,transforms:new Set})}else{const c=e(e()._nodes=new Map(t.parentEditor._nodes),!0);for(const[u,d]of c)e()._nodes.set(u,{exportDOM:d.exportDOM,klass:d.klass,replace:d.replace,replaceWithKlass:d.replaceWithKlass,transforms:i(d.klass)})}e(e()._config.namespace=t.parentEditor._config.namespace,!0),e(e()._editable=t.parentEditor._editable,!0),ft(()=>t.parentEditor.registerEditableListener(c=>{e().setEditable(c)}));var a=Te(),l=Mt(a);we(l,()=>t.children??tn),H(r,a),U()}var Ls=at("<div></div>");function Ur(r,t){B(t,!0);let e=M(t,"ariaActiveDescendantID",19,()=>{}),n=M(t,"ariaAutoComplete",3,null),o=M(t,"ariaControls",19,()=>{}),i=M(t,"ariaDescribedBy",19,()=>{}),s=M(t,"ariaExpanded",19,()=>{}),a=M(t,"ariaLabel",19,()=>{}),l=M(t,"ariaLabelledBy",19,()=>{}),c=M(t,"ariaMultiline",19,()=>{}),u=M(t,"ariaOwns",19,()=>{}),d=M(t,"ariaRequired",19,()=>{}),h=M(t,"autoCapitalize",19,()=>{}),f=M(t,"className",3,"ContentEditable__root"),g=M(t,"id",19,()=>{}),v=M(t,"role",3,"textbox"),b=M(t,"spellCheck",3,!0),D=M(t,"style",19,()=>{}),T=M(t,"tabIndex",19,()=>{}),_=M(t,"testid",19,()=>{}),p=tt(!1);const O=Tt();let N=tt(null);ft(()=>(m(N)&&m(N).ownerDocument&&m(N).ownerDocument.defaultView?O.setRootElement(m(N)):O.setRootElement(null),P(p,O.isEditable(),!0),O.registerEditableListener(I=>{P(p,I,!0)})));var y=Ls();Qt(y,I=>P(N,I),()=>m(N)),Bt(()=>{L(y,"aria-activedescendant",m(p)?e():void 0),L(y,"aria-autocomplete",m(p)?n():"none"),L(y,"aria-controls",m(p)?o():void 0),L(y,"aria-describedby",i()),L(y,"aria-expanded",m(p)&&v()==="combobox"?!!s():void 0),L(y,"aria-label",a()),L(y,"aria-labelledby",l()),L(y,"aria-multiline",c()),L(y,"aria-owns",m(p)?u():null),L(y,"aria-readonly",m(p)?void 0:!0),L(y,"aria-required",d()),L(y,"autocapitalize",h()),ke(y,1,ar(f())),L(y,"contenteditable",m(p)),L(y,"data-testid",_()),L(y,"id",g()),L(y,"role",v()),L(y,"spellcheck",b()),rn(y,D()),L(y,"tabindex",T())}),H(r,y),U()}function Ps(){return Y().getTextContent()}function Is(r,t=!0){if(r)return!1;let e=Ps();return t&&(e=e.trim()),e===""}function Rs(r){if(!Is(r,!1))return!1;const t=Y().getChildren(),e=t.length;if(e>1)return!1;for(let n=0;n<e;n++){const o=t[n];if(Jt(o))return!1;if(q(o)){if(!vt(o)||o.__indent!==0)return!1;const i=o.getChildren(),s=i.length;for(let a=0;a<s;a++){const l=i[n];if(!J(l))return!1}}}return!0}function Js(r){return()=>Rs(r)}var Ws=at("<div><!></div>");const Bs={hash:"svelte-1y5r3v4",code:`.Placeholder__root.svelte-1y5r3v4 {font-size:0.9375rem;color:#999;overflow:hidden;position:absolute;text-overflow:ellipsis;top:8px;left:10px; /* 10px instead of 28px as we don't have the re-arrange handle implemented yet*/right:28px;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;display:inline-block;pointer-events:none;}

  @media (max-width: 64.0625rem) {.Placeholder__root.svelte-1y5r3v4 {left:8px;}
  }`};function zr(r,t){B(t,!0),on(r,Bs);let e=M(t,"className",3,"Placeholder__root");const n=Tt();let o=tt(!0);ft(()=>Kt(n.registerUpdateListener(()=>{P(o,i(n),!0)}),n.registerEditableListener(()=>{P(o,i(n),!0)})));function i(c){return c.getEditorState().read(Js(c.isComposing()))}var s=Te(),a=Mt(s);{var l=c=>{var u=Ws(),d=gt(u);we(d,()=>t.children??tn),mt(u),Bt(()=>ke(u,1,ar(e()),"svelte-1y5r3v4")),H(c,u)};Nt(a,c=>{m(o)&&c(l)})}H(r,s),U()}const Us=globalThis.Prism||window.Prism,Xn=r=>{try{return!!r&&Us.languages.hasOwnProperty(r)}catch{return!1}};function Hr(r,t){for(const e of r.childNodes){if(dt(e)&&e.tagName===t)return!0;Hr(e,t)}return!1}const Gt="data-language",ge="data-highlight-language";class re extends St{static getType(){return"code"}static clone(t){return new re(t.__language,t.__key)}constructor(t,e){super(e),this.__language=t||void 0,this.__isSyntaxHighlightSupported=Xn(t)}createDOM(t){const e=document.createElement("code");W(e,t.theme.code),e.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(e.setAttribute(Gt,n),this.getIsSyntaxHighlightSupported()&&e.setAttribute(ge,n)),e}updateDOM(t,e,n){const o=this.__language,i=t.__language;return o?o!==i&&(e.setAttribute(Gt,o),this.__isSyntaxHighlightSupported&&e.setAttribute(ge,o)):i&&(e.removeAttribute(Gt),t.__isSyntaxHighlightSupported&&e.removeAttribute(ge)),!1}exportDOM(t){const e=document.createElement("pre");W(e,t._config.theme.code),e.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(e.setAttribute(Gt,n),this.getIsSyntaxHighlightSupported()&&e.setAttribute(ge,n)),{element:e}}static importDOM(){return{code:t=>t.textContent!=null&&(/\r?\n/.test(t.textContent)||Hr(t,"BR"))?{conversion:Yn,priority:1}:null,div:()=>({conversion:Hs,priority:1}),pre:()=>({conversion:Yn,priority:0}),table:t=>We(t)?{conversion:Ks,priority:3}:null,td:t=>{const e=t,n=e.closest("table");return e.classList.contains("js-file-line")||n&&We(n)?{conversion:Qn,priority:3}:null},tr:t=>{const e=t.closest("table");return e&&We(e)?{conversion:Qn,priority:3}:null}}}static importJSON(t){return oe().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setLanguage(t.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(t,e=!0){const n=this.getChildren(),o=n.length;if(o>=2&&n[o-1].getTextContent()===`
`&&n[o-2].getTextContent()===`
`&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===o){n[o-1].remove(),n[o-2].remove();const l=Q();return this.insertAfter(l,e),l}const{anchor:i,focus:s}=t,a=(i.isBefore(s)?i:s).getNode();if(J(a)){let l=js(a);const c=[];for(;;)if(xr(l))c.push(ln()),l=l.getNextSibling();else{if(!qr(l))break;{let b=0;const D=l.getTextContent(),T=l.getTextContentSize();for(;b<T&&D[b]===" ";)b++;if(b!==0&&c.push(Kr(" ".repeat(b))),b!==T)break;l=l.getNextSibling()}}const u=a.splitText(i.offset)[0],d=i.offset===0?0:1,h=u.getIndexWithinParent()+d,f=a.getParentOrThrow(),g=[Se(),...c];f.splice(h,0,g);const v=c[c.length-1];v?v.select():i.offset===0?u.selectPrevious():u.getNextSibling().selectNext(0,0)}if(zs(a)){const{offset:l}=t.anchor;a.splice(l,0,[Se()]),a.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const t=Q();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}setLanguage(t){const e=this.getWritable();return e.__language=t||void 0,e.__isSyntaxHighlightSupported=Xn(t),e}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}}function oe(r){return j(new re(r))}function zs(r){return r instanceof re}function Yn(r){return{node:oe(r.getAttribute(Gt))}}function Hs(r){const t=r,e=Zn(t);return e||(function(n){let o=n.parentElement;for(;o!==null;){if(Zn(o))return!0;o=o.parentElement}return!1})(t)?{node:e?oe():null}:{node:null}}function Ks(){return{node:oe()}}function Qn(){return{node:null}}function Zn(r){return r.style.fontFamily.match("monospace")!==null}function We(r){return r.classList.contains("js-file-line-container")}class ie extends lt{constructor(t="",e,n){super(t,n),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new ie(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(t){const e=this.getWritable();return e.__highlightType=t||void 0,e}canHaveFormat(){return!1}createDOM(t){const e=super.createDOM(t),n=Be(t.theme,this.__highlightType);return W(e,n),e}updateDOM(t,e,n){const o=super.updateDOM(t,e,n),i=Be(n.theme,t.__highlightType),s=Be(n.theme,this.__highlightType);return i!==s&&(i&&bt(e,i),s&&W(e,s)),o}static importJSON(t){return Kr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHighlightType(t.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return oe()}}function Be(r,t){return t&&r&&r.codeHighlight&&r.codeHighlight[t]}function Kr(r="",t){return j(new ie(r,t))}function qr(r){return r instanceof ie}function qs(r,t){let e=r;for(let n=Vo(r,t);n&&(qr(n.origin)||xr(n.origin));n=Go(n))e=n.origin;return e}function js(r){return qs(r,"previous")}const Sn=/^(\d+(?:\.\d+)?)px$/,Wt={BOTH:3,NO_STATUS:0,ROW:1};class se extends St{static getType(){return"tablecell"}static clone(t){return new se(t.__headerState,t.__colSpan,t.__width,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__rowSpan=t.__rowSpan,this.__backgroundColor=t.__backgroundColor,this.__verticalAlign=t.__verticalAlign}static importDOM(){return{td:t=>({conversion:$n,priority:0}),th:t=>({conversion:$n,priority:0})}}static importJSON(t){return jr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeaderStyles(t.headerState).setColSpan(t.colSpan||1).setRowSpan(t.rowSpan||1).setWidth(t.width||void 0).setBackgroundColor(t.backgroundColor||null).setVerticalAlign(t.verticalAlign||void 0)}constructor(t=Wt.NO_STATUS,e=1,n,o){super(o),this.__colSpan=e,this.__rowSpan=1,this.__headerState=t,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(t){const e=document.createElement(this.getTag());return this.__width&&(e.style.width=`${this.__width}px`),this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(e.style.backgroundColor=this.__backgroundColor),Xe(this.__verticalAlign)&&(e.style.verticalAlign=this.__verticalAlign),W(e,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),e}exportDOM(t){const e=super.exportDOM(t);if(dt(e.element)){const n=e.element;n.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),n.style.border="1px solid black",this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),n.style.width=`${this.getWidth()||75}px`,n.style.verticalAlign=this.getVerticalAlign()||"top",n.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(n.style.backgroundColor="#f2f3f5")}return e}exportJSON(){return{...super.exportJSON(),...Xe(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(t){const e=this.getWritable();return e.__colSpan=t,e}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(t){const e=this.getWritable();return e.__rowSpan=t,e}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(t,e=Wt.BOTH){const n=this.getWritable();return n.__headerState=t&e|n.__headerState&~e,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(t){const e=this.getWritable();return e.__width=t,e}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(t){const e=this.getWritable();return e.__backgroundColor=t,e}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(t){const e=this.getWritable();return e.__verticalAlign=t||void 0,e}toggleHeaderStyle(t){const e=this.getWritable();return(e.__headerState&t)===t?e.__headerState-=t:e.__headerState+=t,e}hasHeaderState(t){return(this.getHeaderStyles()&t)===t}hasHeader(){return this.getLatest().__headerState!==Wt.NO_STATUS}updateDOM(t){return t.__headerState!==this.__headerState||t.__width!==this.__width||t.__colSpan!==this.__colSpan||t.__rowSpan!==this.__rowSpan||t.__backgroundColor!==this.__backgroundColor||t.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Xe(r){return r==="middle"||r==="bottom"}function $n(r){const t=r,e=r.nodeName.toLowerCase();let n;Sn.test(t.style.width)&&(n=parseFloat(t.style.width));const o=jr(e==="th"?Wt.ROW:Wt.NO_STATUS,t.colSpan,n);o.__rowSpan=t.rowSpan;const i=t.style.backgroundColor;i!==""&&(o.__backgroundColor=i);const s=t.style.verticalAlign;Xe(s)&&(o.__verticalAlign=s);const a=t.style,l=(a&&a.textDecoration||"").split(" "),c=a.fontWeight==="700"||a.fontWeight==="bold",u=l.includes("line-through"),d=a.fontStyle==="italic",h=l.includes("underline");return{after:f=>(f.length===0&&f.push(Q()),f),forChild:(f,g)=>{if(Ht(g)&&!q(f)){const v=Q();return Yo(f)&&f.getTextContent()===`
`?null:(J(f)&&(c&&f.toggleFormat("bold"),u&&f.toggleFormat("strikethrough"),d&&f.toggleFormat("italic"),h&&f.toggleFormat("underline")),v.append(f),v)}return f},node:o}}function jr(r=Wt.NO_STATUS,t=1,e){return j(new se(r,t,e))}function Ht(r){return r instanceof se}function Ye(r,...t){const e=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",r);for(const o of t)n.append("v",o);throw e.search=n.toString(),Error(`Minified Lexical error #${r}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class ae extends St{static getType(){return"tablerow"}static clone(t){return new ae(t.__height,t.__key)}static importDOM(){return{tr:t=>({conversion:Vs,priority:0})}}static importJSON(t){return Vr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHeight(t.height)}constructor(t,e){super(e),this.__height=t}exportJSON(){const t=this.getHeight();return{...super.exportJSON(),...t===void 0?void 0:{height:t}}}createDOM(t){const e=document.createElement("tr");return this.__height&&(e.style.height=`${this.__height}px`),W(e,t.theme.tableRow),e}extractWithChild(t,e,n){return n==="html"}isShadowRoot(){return!0}setHeight(t){const e=this.getWritable();return e.__height=t,e}getHeight(){return this.getLatest().__height}updateDOM(t){return t.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function Vs(r){const t=r;let e;return Sn.test(t.style.height)&&(e=parseFloat(t.style.height)),{after:n=>yr(n,Ht),node:Vr(e)}}function Vr(r){return j(new ae(r))}function Gr(r){return r instanceof ae}const Xr=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Gs=Xr&&"documentMode"in document?document.documentMode:null;Xr&&"InputEvent"in window&&!Gs&&new window.InputEvent("input");function Xs(r,t,e){const n=[];let o=null,i=null;function s(l){let c=n[l];return c===void 0&&(n[l]=c=[]),c}const a=r.getChildren();for(let l=0;l<a.length;l++){const c=a[l];Gr(c)||Ye(209);const u=s(l);for(let d=c.getFirstChild(),h=0;d!=null;d=d.getNextSibling()){for(Ht(d)||Ye(147);u[h]!==void 0;)h++;const f={cell:d,startColumn:h,startRow:l},{__rowSpan:g,__colSpan:v}=d;for(let b=0;b<g&&!(l+b>=a.length);b++){const D=s(l+b);for(let T=0;T<v;T++)D[h+T]=f}}}return[n,o,i]}function Ys(r,t){for(let e=t,n=null;e!==null;e=e.getParent()){if(r.is(e))return n;Ht(e)&&(n=e)}return null}function Qs(r,t,e){return Ys(r,Zt(t,e))}function tr(r,t,e,n){const o=r.querySelector("colgroup");if(!o)return;const i=[];for(let s=0;s<e;s++){const a=document.createElement("col"),l=n&&n[s];l&&(a.style.width=`${l}px`),i.push(a)}o.replaceChildren(...i)}function er(r,t,e){e?(W(r,t.theme.tableRowStriping),r.setAttribute("data-lexical-row-striping","true")):(bt(r,t.theme.tableRowStriping),r.removeAttribute("data-lexical-row-striping"))}function nr(r,t,e){e>0?(W(r,t.theme.tableFrozenColumn),r.setAttribute("data-lexical-frozen-column","true")):(bt(r,t.theme.tableFrozenColumn),r.removeAttribute("data-lexical-frozen-column"))}function rr(r,t,e){e>0?(W(r,t.theme.tableFrozenRow),r.setAttribute("data-lexical-frozen-row","true")):(bt(r,t.theme.tableFrozenRow),r.removeAttribute("data-lexical-frozen-row"))}function Ue(r,t,e){if(!t.theme.tableAlignment)return;const n=[],o=[];for(const i of["center","right"]){const s=t.theme.tableAlignment[i];s&&(i===e?o:n).push(s)}bt(r,...n),W(r,...o)}const Zs=new WeakSet;function $s(r=hr()){return Zs.has(r)}class Le extends St{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(t){const e=this.getWritable();return e.__colWidths=t,e}static clone(t){return new Le(t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__colWidths=t.__colWidths,this.__rowStriping=t.__rowStriping,this.__frozenColumnCount=t.__frozenColumnCount,this.__frozenRowCount=t.__frozenRowCount}static importDOM(){return{table:t=>({conversion:ta,priority:1})}}static importJSON(t){return Yr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setRowStriping(t.rowStriping||!1).setFrozenColumns(t.frozenColumnCount||0).setFrozenRows(t.frozenRowCount||0).setColWidths(t.colWidths)}constructor(t){super(t),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(t,e,n){return n==="html"}getDOMSlot(t){const e=t.nodeName!=="TABLE"&&t.querySelector("table")||t;return e.nodeName!=="TABLE"&&Ye(229),super.getDOMSlot(e).withAfter(e.querySelector("colgroup"))}createDOM(t,e){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const o=document.createElement("colgroup");if(n.appendChild(o),tr(n,0,this.getColumnCount(),this.getColWidths()),Xo(o),W(n,t.theme.table),Ue(n,t,this.getFormatType()),this.__frozenColumnCount&&nr(n,t,this.__frozenColumnCount),this.__frozenRowCount&&rr(n,t,this.__frozenRowCount),this.__rowStriping&&er(n,t,!0),$s(e)){const i=document.createElement("div"),s=t.theme.tableScrollableWrapper;return s?W(i,s):i.style.cssText="overflow-x: auto;",i.appendChild(n),i}return n}updateDOM(t,e,n){t.__rowStriping!==this.__rowStriping&&er(e,n,this.__rowStriping),t.__frozenColumnCount!==this.__frozenColumnCount&&nr(e,n,this.__frozenColumnCount),t.__frozenRowCount!==this.__frozenRowCount&&rr(e,n,this.__frozenRowCount),tr(e,0,this.getColumnCount(),this.getColWidths());const o=this.getDOMSlot(e).element;return t.__style!==this.__style&&(o.style.cssText=this.__style),Ue(o,n,this.getFormatType()),!1}exportDOM(t){const e=super.exportDOM(t),{element:n}=e;return{after:o=>{if(e.after&&(o=e.after(o),this.__format&&Ue(o,t._config,this.getFormatType())),dt(o)&&o.nodeName!=="TABLE"&&(o=o.querySelector("table")),!dt(o))return null;const[i]=Xs(this),s=new Map;for(const u of i)for(const d of u){const h=d.cell.getKey();s.has(h)||s.set(h,{colSpan:d.cell.getColSpan(),startColumn:d.startColumn})}const a=new Set;for(const u of o.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const d=u.getAttribute("data-temporary-table-cell-lexical-key");if(d){const h=s.get(d);if(u.removeAttribute("data-temporary-table-cell-lexical-key"),h){s.delete(d);for(let f=0;f<h.colSpan;f++)a.add(f+h.startColumn)}}}const l=o.querySelector(":scope > colgroup");if(l){const u=Array.from(o.querySelectorAll(":scope > colgroup > col")).filter(((d,h)=>a.has(h)));l.replaceChildren(...u)}const c=o.querySelectorAll(":scope > tr");if(c.length>0){const u=document.createElement("tbody");for(const d of c)u.appendChild(d);o.append(u)}return o},element:dt(n)&&n.nodeName!=="TABLE"?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(t,e){const{rows:n,domRows:o}=e;for(let i=0;i<n;i++){const s=o[i];if(s!=null)for(let a=0;a<s.length;a++){const l=s[a];if(l==null)continue;const{elem:c}=l,u=Qs(this,c);if(u!==null&&t.is(u))return{x:a,y:i}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(t,e,n){const{domRows:o}=n,i=o[e];if(i==null)return null;const s=i[t<i.length?t:i.length-1];return s??null}getDOMCellFromCordsOrThrow(t,e,n){const o=this.getDOMCellFromCords(t,e,n);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(t,e,n){const o=this.getDOMCellFromCords(t,e,n);if(o==null)return null;const i=Zt(o.elem);return Ht(i)?i:null}getCellNodeFromCordsOrThrow(t,e,n){const o=this.getCellNodeFromCords(t,e,n);if(!o)throw new Error("Node at cords not TableCellNode.");return o}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(t){const e=this.getWritable();return e.__rowStriping=t,e}setFrozenColumns(t){const e=this.getWritable();return e.__frozenColumnCount=t,e}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(t){const e=this.getWritable();return e.__frozenRowCount=t,e}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const t=this.getFirstChild();if(!t)return 0;let e=0;return t.getChildren().forEach((n=>{Ht(n)&&(e+=n.getColSpan())})),e}}function ta(r){const t=Yr();r.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0);const e=r.querySelector(":scope > colgroup");if(e){let n=[];for(const o of e.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!Sn.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){n=void 0;break}n.push(parseFloat(i))}n&&t.setColWidths(n)}return{after:n=>yr(n,Gr),node:t}}function Yr(){return j(new Le)}function ea(r,t=void 0){r.focus(()=>{const e=document.activeElement,n=r.getRootElement();n!==null&&(e===null||!n.contains(e))&&n.focus({preventScroll:!0})},{defaultSelection:t})}function Qr(r,t){B(t,!1);const e=Tt();ft(()=>{ea(e)}),mn(),U()}const or=new Set,ir=sn();var na=at('<img draggable="false"/>'),ra=at('<img src="/images/image-broken.svg" alt="broken link" style="height: 200px; width: 200px; opacity: 0.2;" draggable="false"/>'),oa=at("<p>...loading image</p>"),ia=at("<!> <!> <!> <!> <!>",1),sa=at('<div class="image-caption-container"><!></div>'),aa=at("<div><!></div> <!> <!>",1);function la(r,t){B(t,!0);const[e,n]=Qe(),o=()=>Yt(h,"$isSelected",e),i=()=>Yt(v,"$isEditable",e),s=()=>Yt(d,"$buttonRef",e);let a=Ct(()=>t.height==="inherit"?"inherit":t.height+"px"),l=Ct(()=>t.width==="inherit"?"inherit":t.width+"px"),c=tt(null),u=tt(null),d=$e(null),h=Wr(t.editor,t.nodeKey),f=tt(!1),g,v=$i(),b=Ct(()=>o()&&K(m(c))&&!m(f)),D=Ct(()=>(o()||m(f))&&i()),T=new Promise((x,w)=>{if(or.has(t.src))x(null);else{const k=new Image;k.src=t.src,k.onload=()=>{or.add(t.src),x(null)},k.onerror=()=>{w(null)}}});const _=x=>{const w=S();return o()&&K(w)&&(x.preventDefault(),w.getNodes().forEach(V=>{ze(V)&&V.remove()})),!1},p=x=>{const w=S(),k=s();if(o()&&K(w)&&w.getNodes().length===1){if(t.showCaption)return P(c,null),x.preventDefault(),t.caption.focus(),!0;if(k!==null&&k!==document.activeElement)return x.preventDefault(),k.focus(),!0}return!1},O=x=>g===t.caption||s()===x.target?(P(c,null),t.editor.update(()=>{Xt(h,!0);const w=t.editor.getRootElement();w!==null&&w.focus()}),!0):!1,N=x=>{const w=x;return m(f)?!0:w.target===m(u)?(w.shiftKey?Xt(h,!o()):(Jr(t.editor),Xt(h,!0)),!0):!1},y=x=>{t.editor.getEditorState().read(()=>{const w=S();x.target.tagName==="IMG"&&C(w)&&w.getNodes().length===1&&t.editor.dispatchCommand(ir,x)})};ft(()=>{const x=t.editor.getRootElement(),w=Kt(t.editor.registerUpdateListener(({editorState:k})=>{const V=k.read(()=>S());K(V)?P(c,V,!0):P(c,null)}),t.editor.registerCommand(Qo,(k,V)=>(g=V,!1),ot),t.editor.registerCommand(fn,N,ot),t.editor.registerCommand(ir,N,ot),t.editor.registerCommand(fr,k=>k.target===m(u)?(k.preventDefault(),!0):!1,ot),t.editor.registerCommand(dn,_,ot),t.editor.registerCommand(hn,_,ot),t.editor.registerCommand(un,p,ot),t.editor.registerCommand(mr,O,ot));return x==null||x.addEventListener("contextmenu",y),()=>{w(),x==null||x.removeEventListener("contextmenu",y)}});const I=()=>{t.editor.update(()=>{const x=qe(t.nodeKey);ze(x)&&x.setShowCaption(!0)})},rt=(x,w)=>{setTimeout(()=>{P(f,!1)},200),t.editor.update(()=>{const k=qe(t.nodeKey);ze(k)&&k.setWidthAndHeight(x,w)})},R=()=>{P(f,!0)},Z=rs();var et=aa(),nt=Mt(et),Lt=gt(nt);pi(Lt,()=>T,x=>{var w=oa();H(x,w)},(x,w)=>{var k=na();let V;Qt(k,Et=>P(u,Et),()=>m(u)),Bt(Et=>{L(k,"src",t.src),L(k,"alt",t.altText),rn(k,`height:${m(a)??""};max-width:${t.maxWidth??""}px;width:${m(l)??""};`),V=ke(k,1,"",null,V,Et)},[()=>({focused:m(D),draggable:m(D)&&K(m(c))})]),H(x,k)},(x,w)=>{var k=ra();H(x,k)}),mt(nt);var Pt=z(nt,2);{var wt=x=>{var w=sa(),k=gt(w);{let V=Ct(()=>[$o,lt,ti,ei,Ft,Me,ne]);Fs(k,{get initialEditor(){return t.caption},get parentEditor(){return t.editor},get initialNodes(){return m(V)},children:(Et,xn)=>{var A=ia(),$=Mt(A);Qr($,{});var ct=z($,2);Si(ct,()=>Z.componentType,(Ie,Cn)=>{Cn(Ie,mi(()=>Z.props))});var yt=z(ct,2);Pr(yt,{});var yn=z(yt,2);Ur(yn,{className:"ImageNode__contentEditable"});var $r=z(yn,2);zr($r,{className:"ImageNode__placeholder",children:(Ie,Cn)=>{en();var to=nn("Enter image caption...");H(Ie,to)},$$slots:{default:!0}}),H(Et,A)},$$slots:{default:!0}})}mt(w),H(x,w)};Nt(Pt,x=>{t.showCaption&&x(wt)})}var kt=z(Pt,2);{var xt=x=>{Zo(x,{get showCaption(){return t.showCaption},setShowCaption:I,get editor(){return t.editor},get buttonRef(){return d},get imageRef(){return m(u)},get maxWidth(){return t.maxWidth},onResizeStart:R,onResizeEnd:rt,get captionsEnabled(){return t.captionsEnabled}})};Nt(kt,x=>{t.resizable&&K(m(c))&&m(D)&&x(xt)})}Bt(()=>L(nt,"draggable",m(b))),H(r,et),U(),n()}function ca(r){return r.parentElement!=null&&r.parentElement.tagName==="LI"&&r.previousSibling===null&&r.getAttribute("aria-roledescription")==="checkbox"}function ua(r){const t=r;if(t.src.startsWith("file:///")||ca(t))return null;const{alt:e,src:n,width:o,height:i}=t;return{node:Zr({altText:e,height:i,src:n,width:o})}}class le extends gn{constructor(e,n,o,i,s,a,l,c,u){super(u);G(this,"__src");G(this,"__altText");G(this,"__width");G(this,"__height");G(this,"__maxWidth");G(this,"__showCaption");G(this,"__caption");G(this,"__captionsEnabled");this.__src=e,this.__altText=n,this.__maxWidth=o,this.__width=i||"inherit",this.__height=s||"inherit",this.__showCaption=a||!1,this.__caption=l||Cr({nodes:[]}),this.__captionsEnabled=c||c===void 0}static getType(){return"image"}static clone(e){return new le(e.__src,e.__altText,e.__maxWidth,e.__width,e.__height,e.__showCaption,e.__caption,e.__captionsEnabled,e.__key)}static importJSON(e){const{altText:n,height:o,width:i,maxWidth:s,src:a,showCaption:l}=e;return Zr({altText:n,height:o,maxWidth:s,showCaption:l,src:a,width:i}).updateFromJSON(e)}updateFromJSON(e){const n=super.updateFromJSON(e),{caption:o}=e,i=n.__caption,s=i.parseEditorState(o.editorState);return s.isEmpty()||i.setEditorState(s),n}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),e.setAttribute("width",this.__width.toString()),e.setAttribute("height",this.__height.toString()),{element:e}}static importDOM(){return{img:e=>({conversion:ua,priority:0})}}exportJSON(){return{...super.exportJSON(),altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(e,n){const o=this.getWritable();o.__width=e,o.__height=n}setShowCaption(e){const n=this.getWritable();n.__showCaption=e}createDOM(e){const n=document.createElement("span"),i=e.theme.image;return i!==void 0&&(n.className=i),n}updateDOM(){return!1}getSrc(){return this.__src}getAltText(){return this.__altText}decorate(e,n){return{componentClass:la,updateProps:o=>{o.src=this.__src,o.altText=this.__altText,o.width=this.__width,o.height=this.__height,o.maxWidth=this.__maxWidth,o.nodeKey=this.__key,o.showCaption=this.__showCaption,o.caption=this.__caption,o.captionsEnabled=this.__captionsEnabled,o.resizable=!0,o.editor=e}}}}function Zr({altText:r,height:t,maxWidth:e=500,captionsEnabled:n,src:o,width:i,showCaption:s,caption:a,key:l}){return j(new le(o,r,e,i,t,s,a,n,l))}function ze(r){return r instanceof le}class Pe extends lt{static getType(){return"hashtag"}static clone(t){return new Pe(t.__text,t.__key)}static importJSON(t){const e=da(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"hashtag",version:1}}createDOM(t){const e=super.createDOM(t);return e.classList.add(t.theme.hashtag),e}canInsertTextBefore(){return!1}canInsertTextAfter(){return!0}isTextEntity(){return!0}}function da(r){return new Pe(r)}const ha=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",me={tag:"history-merge"};function fa(r,t){if(t!==null){if(t===void 0)r.update(()=>{const e=Y();if(e.isEmpty()){const n=Q();e.append(n);const o=ha?document.activeElement:null;(S()!==null||o!==null&&o===r.getRootElement())&&n.select()}},me);else if(t!==null)switch(typeof t){case"string":{const e=r.parseEditorState(t);r.setEditorState(e,me);break}case"object":{r.setEditorState(t,me);break}case"function":{r.update(()=>{Y().isEmpty()&&t(r)},me);break}}}}function ga(r,t){B(t,!0);const[e,n]=Qe(),o=()=>Yt(f,"$isEditable",e),{theme:i,namespace:s,nodes:a,onError:l,editorState:c,editable:u,html:d}=t.initialConfig,h=Cr({editable:u,html:d,namespace:s,nodes:a,onError:T=>l(T,h),theme:i});fa(h,c),Zi(h);const f=$e(u!==void 0?u:!0);te("isEditable",f),ft(()=>(h.setEditable(o()),h.registerEditableListener(T=>{Xt(f,T)}))),ts(Ir()),es();function g(){return h}var v=Te(),b=Mt(v);we(b,()=>t.children??tn),H(r,v);var D=U({getEditor:g});return n(),D}function ma(r){const{namespace:t,theme:e,onError:n,initialText:o}=r;return{editable:!0,theme:e,namespace:t,onError:n,editorState:i=>{o&&i.update(()=>{const s=Q(),a=_t(o);s.append(a),Y().append(s),Y().selectEnd()})},nodes:[Ft,Fe,zt,Ut,Le,se,ae,$t,le,re,De,Ft,zt,Ut,Ae,Pe,ie,Ee,ne,ee,Ne,Oe]}}const _a={autocomplete:"StandardTheme__autocomplete",blockCursor:"StandardTheme__blockCursor",characterLimit:"StandardTheme__characterLimit",code:"StandardTheme__code",codeHighlight:{atrule:"StandardTheme__tokenAttr",attr:"StandardTheme__tokenAttr",boolean:"StandardTheme__tokenProperty",builtin:"StandardTheme__tokenSelector",cdata:"StandardTheme__tokenComment",char:"StandardTheme__tokenSelector",class:"StandardTheme__tokenFunction","class-name":"StandardTheme__tokenFunction",comment:"StandardTheme__tokenComment",constant:"StandardTheme__tokenProperty",deleted:"StandardTheme__tokenProperty",doctype:"StandardTheme__tokenComment",entity:"StandardTheme__tokenOperator",function:"StandardTheme__tokenFunction",important:"StandardTheme__tokenVariable",inserted:"StandardTheme__tokenSelector",keyword:"StandardTheme__tokenAttr",namespace:"StandardTheme__tokenVariable",number:"StandardTheme__tokenProperty",operator:"StandardTheme__tokenOperator",prolog:"StandardTheme__tokenComment",property:"StandardTheme__tokenProperty",punctuation:"StandardTheme__tokenPunctuation",regex:"StandardTheme__tokenVariable",selector:"StandardTheme__tokenSelector",string:"StandardTheme__tokenSelector",symbol:"StandardTheme__tokenProperty",tag:"StandardTheme__tokenProperty",url:"StandardTheme__tokenOperator",variable:"StandardTheme__tokenVariable"},embedBlock:{base:"StandardTheme__embedBlock",focus:"StandardTheme__embedBlockFocus"},hashtag:"StandardTheme__hashtag",heading:{h1:"StandardTheme__h1",h2:"StandardTheme__h2",h3:"StandardTheme__h3",h4:"StandardTheme__h4",h5:"StandardTheme__h5",h6:"StandardTheme__h6"},hr:"StandardTheme__hr",image:"editor-image",indent:"StandardTheme__indent",inlineImage:"inline-editor-image",layoutContainer:"StandardTheme__layoutContainer",layoutItem:"StandardTheme__layoutItem",link:"StandardTheme__link",list:{checklist:"StandardTheme__checklist",listitem:"StandardTheme__listItem",listitemChecked:"StandardTheme__listItemChecked",listitemUnchecked:"StandardTheme__listItemUnchecked",nested:{listitem:"StandardTheme__nestedListItem"},olDepth:["StandardTheme__ol1","StandardTheme__ol2","StandardTheme__ol3","StandardTheme__ol4","StandardTheme__ol5"],ul:"StandardTheme__ul"},ltr:"StandardTheme__ltr",mark:"StandardTheme__mark",markOverlap:"StandardTheme__markOverlap",paragraph:"StandardTheme__paragraph",quote:"StandardTheme__quote",rtl:"StandardTheme__rtl",text:{bold:"StandardTheme__textBold",code:"StandardTheme__textCode",italic:"StandardTheme__textItalic",strikethrough:"StandardTheme__textStrikethrough",subscript:"StandardTheme__textSubscript",superscript:"StandardTheme__textSuperscript",underline:"StandardTheme__textUnderline",underlineStrikethrough:"StandardTheme__textUnderlineStrikethrough"}};function pa(r,t){B(t,!0);const e=qt();function n(o){o.read(()=>{const i=S();if(!C(i))return;const s=ni(i);if(s===void 0){t.onExit();return}const a=t.testMatch(s);if(a===null){t.onExit();return}t.onMatch(a)})}st(()=>e.registerUpdateListener(({editorState:o,dirtyElements:i,dirtyLeaves:s,prevEditorState:a,tags:l})=>{l.has("history-merge")||i.size===0&&s.size===0||a.isEmpty()||n(o)})),U()}var Sa=at("<!> <!>",1);function xa(r,t){B(t,!0);function e(f){let g=f;for(;g!==void 0;){if(!g.isSimpleText())return;g=Ai(g)}}const n=qt();st(()=>{const f=n.registerNodeTransform(lt,e);return()=>{f==null||f()}});let o=tt(void 0),i=tt(void 0);function s(){P(o,void 0),P(i,void 0)}function a(f){P(i,f,!0);const g=oi(m(i).searchQuery);if(g.length===0){s();return}P(o,g.slice(0,20),!0)}function l(f){if(m(i)){const g=m(i).start,v=m(i).end;n.update(()=>{const b=S();Oi({selection:b,start:g,end:v,unicode:f.unicode})}),ii(f)}s()}function c(){return m(o)!==void 0}var u=Sa(),d=Mt(u);ri(d,{get suggestedEmojis(){return m(o)},selectSuggestion:l,exit:s});var h=z(d,2);return pa(h,{onExit:s,onMatch:a,get testMatch(){return ki}}),H(r,u),U({isBusy:c})}function _e(r){var t;return((t=r.match(/^[ \t]+/))==null?void 0:t[0])||""}function pe(r){var a;const t=r.match(/^(\s*)([-*+]|(?<number>[0-9]+)\.)\s/);if(!t)return;const e=t[1]??"",n=t[0],o=(a=t.groups)==null?void 0:a.number,i=o?parseInt(o):void 0,s=i?" ".repeat(i.toString().length+2):e+"  ";return{prefix:n,indent:s,number:i}}function ya(r){r&&r.preventDefault();const t=S();if(!C(t))return!1;const e=t.anchor,n=e.getNode();if(r!=null&&r.shiftKey){const R=J(n)?n:n.getFirstChild(),Z=J(n)?n.getParent():n;if(!vt(Z)||!R||!J(R))return!1;const et=e.offset,nt=R.getTextContent(),Lt=nt.substring(et),Pt=nt.substring(0,et),wt=Z.getTextContent(),kt=pe(wt),xt=kt?kt.indent:_e(wt);R.setTextContent(Pt);const x=Q(),w=_t(xt+Lt);x.append(w),Z.insertAfter(x);const k=Ke();return k.anchor.set(w.getKey(),xt.length,"text"),k.focus.set(w.getKey(),xt.length,"text"),xe(k),!0}let o,i,s=e.offset;if(J(n))i=n,o=n.getParent();else if(vt(n))o=n,i=o.getFirstChild(),(!i||!J(i))&&(i=_t(""),o.append(i),s=0);else return!1;if(!vt(o))return!1;const a=o.getTextContent(),l=_e(a),c=pe(a),u=!c&&l.length>0;let d=!1,h;const f=i.getTextContent();if(u&&s===f.length){let R=o.getPreviousSibling();for(;R&&vt(R);){const Z=R.getTextContent(),et=pe(Z),nt=_e(Z);if(et){et.indent===l&&(d=!0,h=et);break}else if(nt!==l)break;R=R.getPreviousSibling()}}const g=o.getNextSibling(),v=g&&vt(g)?g.getTextContent():"",b=_e(v),D=pe(v),T=c&&v&&!D&&b===c.indent;let _=c?c.prefix:l;if(d&&h)if(h.number){const R=h.prefix.length-h.prefix.trimStart().length;_=h.prefix.substring(0,R)+(h.number+1)+". "}else _=h.prefix;else if(T)_=c.indent;else if(c!=null&&c.number){const R=c.prefix.length-c.prefix.trimStart().length;_=c.prefix.substring(0,R)+(c.number+1)+". "}const p=a.trim();if(c&&p===c.prefix.trim()){const R=o.getChildren();for(const Z of R)Z.remove();return o.select(),!0}const O=f.substring(s),N=f.substring(0,s);i.setTextContent(N);const y=Q(),I=_t(_+O);y.append(I),o.insertAfter(y);const rt=Ke();return rt.anchor.set(I.getKey(),_.length,"text"),rt.focus.set(I.getKey(),_.length,"text"),xe(rt),!0}function Ca(r,t){B(t,!0);const e=Tt();st(()=>{const n=e.registerCommand(un,ya,Dt);return()=>{n()}}),U()}function va(r,t){B(t,!0);const e=/`[^`]+`/;function n(i){if(Fi(i)||!i.isSimpleText())return;const s=i.getTextContent(),a=e.exec(s);if(!a||a.index===void 0)return;const l=a.index,c=l+a[0].length,u=kr(a[0]);let d;l===0?[d]=i.splitText(c):[,d]=i.splitText(l,c),d.replace(u)}const o=qt();st(()=>{const i=o.registerNodeTransform(lt,n);return()=>{i==null||i()}}),U()}function ba(r,t){B(t,!0);const e=Tt();st(()=>{const n=e.registerCommand(cn,o=>{var s;const i=(s=o==null?void 0:o.clipboardData)==null?void 0:s.getData("text/plain");return i?(o.preventDefault(),e.update(()=>{const a=S();C(a)&&a.insertText(i)}),!0):!1},si);return()=>{n()}}),U()}function ve(r){return r.getChildren().map(o=>o.getTextContent()).join(`
`)}function Ta(r,t){B(t,!0);const e=qt();let n=tt(void 0);st(()=>e.registerCommand(vr,()=>(e.read(()=>{var l;const o=ve(Y());if(o===m(n))return;P(n,o,!0);const i=S();if(!C(i))return;const s=br(i),a=Tr(i);(l=t.onChange)==null||l.call(t,ve(Y()),s,a)}),!1),ai)),U()}function wa(r,t){B(t,!0);const e=qt();let n=tt(void 0);st(()=>e.registerUpdateListener(({editorState:i,dirtyElements:s,dirtyLeaves:a,prevEditorState:l,tags:c})=>{c.has("history-merge")||s.size===0&&a.size===0||l.isEmpty()||i.read(()=>{var g;const u=ve(Y());if(u===m(n))return;P(n,u,!0);const d=S();if(!C(d))return;const h=br(d),f=Tr(d);(g=t.onInput)==null||g.call(t,m(n),h,f)})}));function o(){return m(n)}return U({getText:o})}var ka=at('<div><div class="editor svelte-smmvm5"><!> <!></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>');const Ea={hash:"svelte-smmvm5",code:".lexical-container.svelte-smmvm5{background-color:var(--clr-bg-1);display:block;flex-grow:1;overflow:auto;position:relative;z-index:0}.editor.svelte-smmvm5{flex:auto;position:relative;resize:vertical;z-index:-1}.disabled.svelte-smmvm5{opacity:.5;pointer-events:none}"};function Qa(r,t){B(t,!0),on(r,Ea);let e=M(t,"value",15),n=M(t,"autoFocus",3,!0);const o=Ct(()=>ma({namespace:t.namespace,theme:_a,onError:t.onError}));let i=tt(void 0),s=tt(void 0),a=tt(void 0);const l=Ct(()=>t.disabled??!1);st(()=>{if(m(i)){const _=m(i).getEditor();m(l)&&_.isEditable()?_.setEditable(!1):!m(l)&&!_.isEditable()&&_.setEditable(!0)}}),st(()=>{if(m(i)){const _=m(i).getEditor(),p=_.registerCommand(li,y=>{var I,rt;return(I=m(a))!=null&&I.isBusy()?!1:((rt=t.onKeyDown)==null?void 0:rt.call(t,y))??!1},Dt),O=_.registerCommand(ci,()=>{var y;return(y=t.onFocus)==null||y.call(t),!1},Dt),N=_.registerCommand(vr,()=>{var y;return(y=t.onBlur)==null||y.call(t),!1},Dt);return()=>{p(),O(),N()}}}),st(()=>{c(t.initialText)});async function c(_){if(m(i)&&_){const p=await u();(p==null?void 0:p.trim())===""&&b(_)}}function u(){return new Promise(_=>{if(!m(i)){_(void 0);return}m(i).getEditor().read(()=>{_(ve(Y()))})})}function d(){return new Promise(_=>{if(!m(i)){_(0);return}m(i).getEditor().read(()=>{const N=Y().getChildren().filter(vt).length;_(N)})})}function h(){if(!m(i))return;m(i).getEditor().update(()=>{Y().clear()})}function f(){if(!m(i))return;const p=m(i).getEditor().getRootElement();p==null||p.focus()}function g(){var p;const _=(p=m(i))==null?void 0:p.getEditor();_&&_.dispatchCommand(Ti,void 0)}function v(_){if(!m(i))return;f();const p=m(i).getEditor();wr(p,_)}function b(_){if(!m(i))return;const p=m(i).getEditor();ui(p,_)}function D(){var _;return(_=m(i))==null?void 0:_.getEditor().getEditorState().toJSON()}function T(_){var N;const p=(N=m(i))==null?void 0:N.getEditor(),O=p==null?void 0:p.parseEditorState(_);O&&(p==null||p.setEditorState(O))}return Qt(ga(r,{get initialConfig(){return m(o)},children:(_,p)=>{var O=ka();let N,y;var I=gt(O),rt=gt(I);Ur(rt,{});var R=z(rt,2);{var Z=A=>{zr(A,{children:($,ct)=>{en();var yt=nn();Bt(()=>io(yt,t.placeholder)),H($,yt)},$$slots:{default:!0}})};Nt(R,A=>{t.placeholder&&A(Z)})}mt(I);var et=z(I,2);Qt(xa(et,{}),A=>P(a,A,!0),()=>m(a));var nt=z(et,2);Ta(nt,{onChange:(A,$,ct)=>{var yt;e(A),(yt=t.onChange)==null||yt.call(t,A,$,ct)}});var Lt=z(nt,2);{var Pt=A=>{wa(A,{get onInput(){return t.onInput}})};Nt(Lt,A=>{t.onInput&&A(Pt)})}var wt=z(Lt,2);Pr(wt,{});var kt=z(wt,2);Ca(kt,{});var xt=z(kt,2);ba(xt,{});var x=z(xt,2);va(x,{});var w=z(x,2);{var k=A=>{Qr(A,{})};Nt(w,A=>{n()&&A(k)})}var V=z(w,2);Ss(V,{});var Et=z(V,2);{var xn=A=>{var $=Te(),ct=Mt($);we(ct,()=>t.plugins),H(A,$)};Nt(Et,A=>{t.plugins&&A(xn)})}mt(O),Qt(O,A=>P(s,A),()=>m(s)),di(O,(A,$)=>{var ct;return(ct=hi)==null?void 0:ct(A,$)},()=>({button:!0})),Bt((A,$)=>{N=ke(O,1,`lexical-container lexical-${t.styleContext??""} scrollbar`,"svelte-smmvm5",N,A),y=rn(O,"",y,$)},[()=>({disabled:m(l)}),()=>({"min-height":t.minHeight,"max-height":t.maxHeight,"--code-block-font":t.useMonospaceFont&&t.monospaceFont?t.monospaceFont:"var(--font-default)","--code-block-tab-size":t.useMonospaceFont&&t.tabSize?t.tabSize:4,"--code-block-ligatures":t.useMonospaceFont&&t.enableLigatures?"common-ligatures":"normal","--lexical-input-client-text-wrap":t.useMonospaceFont?"nowrap":"normal"})]),H(_,O)},$$slots:{default:!0}}),_=>P(i,_,!0),()=>m(i)),U({getPlaintext:u,getParagraphCount:d,clear:h,focus:f,wrapAll:g,insertText:v,setText:b,save:D,load:T})}var Oa=at(`<div class="private-project-error svelte-1he63qk"><div class="wrapper svelte-1he63qk"><div class="icon-container svelte-1he63qk"><!></div> <h2 class="title text-15 text-body text-bold svelte-1he63qk">Private Project</h2> <p class="error-message text-13 text-body svelte-1he63qk">You don't have permission to view this project. The project may be private or you may need to
			request access from the owner.</p> <div class="actions svelte-1he63qk"><!></div></div></div>`);const Na={hash:"svelte-1he63qk",code:".private-project-error.svelte-1he63qk {display:flex;align-items:center;justify-content:center;width:100%;height:100%;padding:32px;}.wrapper.svelte-1he63qk {display:flex;flex-direction:column;align-items:center;max-width:400px;padding:32px;border:1px solid var(--clr-border-2);border-radius:var(--radius-m);background-color:var(--clr-bg-1);text-align:center;}.icon-container.svelte-1he63qk {margin-bottom:16px;color:var(--clr-theme-danger-element);}.title.svelte-1he63qk {margin-bottom:12px;}.error-message.svelte-1he63qk {margin-bottom:24px;color:var(--clr-text-2);line-height:1.5;}.actions.svelte-1he63qk {display:flex;}"};function Za(r,t){B(t,!1),on(r,Na);const e=yi(Ci);function n(){xi(e.homePath())}mn();var o=Oa(),i=gt(o),s=gt(i),a=gt(s);fi(a,{name:"locked-small",size:48}),mt(s);var l=z(s,6),c=gt(l);gi(c,{kind:"outline",icon:"home",onclick:n,children:(u,d)=>{en();var h=nn("Go to home");H(u,h)},$$slots:{default:!0}}),mt(l),mt(i),mt(o),H(r,o),U()}function $a(r,t,e,n,o,i){bi(t.getBranchUuidInterest(e,n,o),i);const s=Ct(()=>vi.selectors.selectById(r.latestBranchLookups,o));return{get current(){return m(s)}}}function tl(r,t){B(t,!0);const e=qt();function n(l,c){return`[${c}](${l})`}function o(l,c){return`![${c}](${l})`}function i(l){return l.isImage?o(l.url,l.name):n(l.url,l.name)}async function s(l){if(!l)return;const c=await t.onDrop(l);c&&c.forEach(u=>{const d=i(u);wr(e,`${d}
`)})}st(()=>{const l=e.registerCommand(gr,u=>{var h;u.preventDefault(),u.stopPropagation();const d=(h=u.dataTransfer)==null?void 0:h.files;return s(d),!0},Dt),c=e.registerCommand(cn,u=>{var f;const h=(f=u.clipboardData)==null?void 0:f.files;return h&&h.length>0?(u.preventDefault(),u.stopPropagation(),s(h),!0):!1},Dt);return()=>{l(),c()}});async function a(l){l&&await s(l)}return U({handleFileUpload:a})}export{tl as F,Za as P,Qa as R,pa as T,Ga as e,Xa as g,Ya as i,$a as l};
//# sourceMappingURL=CmUa9IOX.js.map
