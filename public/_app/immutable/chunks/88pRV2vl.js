import"./CPkq-MRm.js";import{p as S,c as y,r as w,s as $,g as p,t as k,u as A,a as W,ap as j}from"./BX4Dnpro.js";import{f as b,s as M,a as h}from"./DS607QHn.js";import{a as T,e as B,i as L,s as R}from"./Dbls2O6t.js";import{o as z}from"./3uBOiTBQ.js";import{c as P}from"./C1nXBIR4.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f32ebc1d-0ec9-4b52-b468-3953f1019994",e._sentryDebugIdIdentifier="sentry-dbid-f32ebc1d-0ec9-4b52-b468-3953f1019994")})()}catch{}function q(e){return typeof e=="object"&&e!==null&&typeof e.os=="string"&&typeof e.arch=="string"&&typeof e.url=="string"&&typeof e.file=="string"&&typeof e.platform=="string"}function N(e){return typeof e=="object"&&e!==null&&typeof e.version=="string"&&(typeof e.notes=="string"||e.notes===null)&&typeof e.sha=="string"&&typeof e.channel=="string"&&typeof e.build_version=="string"&&typeof e.released_at=="string"&&Array.isArray(e.builds)&&e.builds.every(q)}function K(e){if(!Array.isArray(e))return[];const n=[];for(const s of e){if(N(s)){n.push(s);continue}P("Invalid release filtered out",{level:"warning",extra:{release:s}})}return n}const U="https://app.gitbutler.com/api/downloads",V=["darwin","linux","windows"];function X(e){return e.filter(n=>!n.url.endsWith(".zip")).filter((n,s,l)=>l.findIndex(d=>d.url===n.url)===s).sort((n,s)=>s.platform.localeCompare(n.platform))}function f(e,n,s,l){return e.find(d=>d.os===n&&(!s||d.arch===s)&&(!l||d.file.includes(l)))}function Y(e){return e.filter((n,s,l)=>l.findIndex(d=>d.version===n.version)===s)}function oe(e){return{darwin_x86_64:f(e.builds,"darwin","x86_64"),darwin_aarch64:f(e.builds,"darwin","aarch64"),windows_x86_64:f(e.builds,"windows","x86_64"),linux_appimage_x86_64:f(e.builds,"linux","x86_64","AppImage"),linux_deb_x86_64:f(e.builds,"linux","x86_64","deb"),linux_rpm_x86_64:f(e.builds,"linux","x86_64","rpm"),linux_appimage_aarch64:f(e.builds,"linux","aarch64","AppImage"),linux_deb_aarch64:f(e.builds,"linux","aarch64","deb"),linux_rpm_aarch64:f(e.builds,"linux","aarch64","rpm")}}function F(e){const n=e.map(s=>({...s,builds:X(s.builds)}));return Y(n)}async function G(e=10,n="release"){const l=await(await fetch(`${U}?limit=${e}&channel=${n}`)).json();return K(l)}async function ae(e=10,n="release"){const s=await G(e,n);return F(s)}var H=b('<a class="download-link svelte-xmr2so"> </a>'),J=b('<div class="download-category svelte-xmr2so"><svg class="download-icon svelte-xmr2so" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor"></path></svg> <div class="download-options svelte-xmr2so"></div></div>'),Q=b('<div class="download-links svelte-xmr2so"></div>');const Z={hash:"svelte-xmr2so",code:`.download-links.svelte-xmr2so {display:flex;flex-wrap:wrap;padding:32px;gap:24px;background-image:radial-gradient(var(--clr-border-2) 1px, transparent 1px);background-size:6px 6px;}.download-category.svelte-xmr2so {display:flex;flex-direction:column;min-width:150px;gap:12px;}.download-icon.svelte-xmr2so {width:22px;height:22px;}.download-options.svelte-xmr2so {display:flex;flex-wrap:wrap;gap:14px;}.download-link.svelte-xmr2so {width:-moz-fit-content;width:fit-content;background-color:var(--clr-bg-2);font-size:0.875rem;font-family:var(--font-mono);text-decoration:underline;text-underline-offset:2px;transition:all 0.1s ease;}.download-link.svelte-xmr2so:hover {-webkit-text-decoration:underline wavy;text-decoration:underline wavy;text-decoration-color:var(--clr-theme-pop-element);}

	@media (max-width: 46.25rem) {.download-links.svelte-xmr2so {padding:16px;}
	}`};function le(e,n){S(n,!0),T(e,Z);function s(r){if(r.os==="darwin"){const t=r.platform.toLowerCase();return r.arch==="aarch64"||t.includes("silicon")||t.includes("aarch64")?"Apple Silicon":r.arch==="x86_64"||t.includes("intel")||t.includes("x86_64")?"Intel Mac":t.startsWith("macos")?r.platform:`macOS ${r.platform}`}if(r.os==="windows"){const t=r.file.toLowerCase();return t.includes("msi")?"Windows (MSI)":t.includes("exe")?"Windows (EXE)":"Windows"}if(r.os==="linux"){const t=r.arch==="aarch64"?"ARM64":"Intel",i=r.file.toLowerCase();return i.includes("appimage")?`Linux ${t} (AppImage)`:i.includes("deb")?`Linux ${t} (Deb)`:i.includes("rpm")?`Linux ${t} (RPM)`:`Linux ${t} (CLI)`}return r.platform}function l(r){return r==="darwin"?"macos":r==="windows"||r==="linux"?r:"linux"}function d(r){if(r.os==="darwin")return r.arch==="aarch64"?0:r.arch==="x86_64"?1:2;if(r.os==="windows"){const t=r.file.toLowerCase();return t.includes("msi")?0:t.includes("exe")?1:2}if(r.os==="linux"){const t=r.arch==="aarch64"?1:0,i=r.file.toLowerCase();let o=3;return i.includes("appimage")?o=0:i.includes("deb")?o=1:i.includes("rpm")&&(o=2),t*10+o}return 99}function E(r,t){const i=d(r)-d(t);if(i!==0)return i;const o=s(r).localeCompare(s(t));return o!==0?o:r.url.localeCompare(t.url)}const O=A(()=>{const r=new Set,i=n.builds.filter(a=>r.has(a.url)?!1:(r.add(a.url),!0)).reduce((a,c)=>(a[c.os]||(a[c.os]=[]),a[c.os].push(c),a),{});for(const a of Object.values(i))a.sort(E);const o=V;return Object.entries(i).sort(([a],[c])=>{const u=o.indexOf(a),m=o.indexOf(c),v=u===-1?o.length:u,x=m===-1?o.length:m;return v-x})});var g=Q();B(g,21,()=>p(O),L,(r,t)=>{var i=A(()=>j(p(t),2));let o=()=>p(i)[0],a=()=>p(i)[1];var c=J(),u=y(c),m=y(u);w(u);var v=$(u,2);B(v,21,a,L,(x,I)=>{var _=H(),C=y(_,!0);w(_),k(D=>{R(_,"href",p(I).url),M(C,D)},[()=>s(p(I))]),h(x,_)}),w(v),w(c),k(x=>R(m,"d",x),[()=>z[l(o())]]),h(r,c)}),w(g),h(e,g),W()}export{le as R,oe as c,ae as f,K as g};
//# sourceMappingURL=88pRV2vl.js.map
