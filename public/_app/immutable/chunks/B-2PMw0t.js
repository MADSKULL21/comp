var d=Object.defineProperty;var f=(t,e,n)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var s=(t,e,n)=>f(t,typeof e!="symbol"?e+"":e,n);import{A as u}from"./BJQ2FMEW.js";import{I as h}from"./CG1L1sNd.js";import{S as l,T as w}from"./BX4Dnpro.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="aaa00796-c678-44bc-8927-a4a06c489f7f",t._sentryDebugIdIdentifier="sentry-dbid-aaa00796-c678-44bc-8927-a4a06c489f7f")})()}catch{}const A=new h("HttpClient"),y={"Content-Type":"application/json"};class q{constructor(e=window.fetch,n,a,i="same-origin"){s(this,"fetch");s(this,"token");s(this,"credentials");s(this,"apiUrl");s(this,"authenticationAvailable");this.fetch=e,this.token=a,this.credentials=i,this.apiUrl=new URL("/api/",n),this.authenticationAvailable=l(a,r=>!!r)}getApiUrl(e){return new URL(e,this.apiUrl)}async request(e,n){const a=new Headers(y),i=w(this.token);return i&&a.set("X-Auth-Token",i),n.headers&&Object.entries(n.headers).forEach(([o,c])=>{c?a.set(o,c):a.delete(o)}),await this.fetch(this.getApiUrl(e),{method:n.method,headers:a,body:T(n.body),credentials:this.credentials})}async requestJson(e,n){const a=await this.request(e,n);return await p(a)}async get(e,n){return await this.requestJson(e,{...n,method:"GET"})}async post(e,n){return await this.requestJson(e,{...n,method:"POST"})}async put(e,n){return await this.requestJson(e,{...n,method:"PUT"})}async patch(e,n){return await this.requestJson(e,{...n,method:"PATCH"})}async delete(e,n){return await this.requestJson(e,{...n,method:"DELETE"})}async postRaw(e,n){return await this.request(e,{...n,method:"POST"})}}async function p(t){if(t.status===204||t.status===205)return null;if(t.status>=400)throw new u(`HTTP Error ${t.statusText}: ${await t.text()}`,t);return await t.json()}function T(t){if(t)return t instanceof FormData?t:JSON.stringify(t)}export{A as H,q as a};
//# sourceMappingURL=B-2PMw0t.js.map
