import"../chunks/CPkq-MRm.js";import{p as R,s as h,a as U,$ as G,c as k,g as r,u as $,n as p,r as w}from"../chunks/BX4Dnpro.js";import{b as M,f as y,t as f,a}from"../chunks/DS607QHn.js";import{i as T}from"../chunks/DrMRszh9.js";import{a as N}from"../chunks/Dbls2O6t.js";import{g as O}from"../chunks/6BIzYspF.js";import{p as Y}from"../chunks/RIzBnn02.js";import{F as j}from"../chunks/lt8-OyO6.js";import{i as V}from"../chunks/CG1L1sNd.js";import{L as q}from"../chunks/BoCk19Um.js";import{B as z,c as u}from"../chunks/z-ijcZsT.js";import{A as x}from"../chunks/CqK7S2kR.js";import{c as H}from"../chunks/CU5A-fSP.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};o.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new o.Error().stack;n&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[n]="08541c4d-45ad-4ad3-9967-545ea25715a9",o._sentryDebugIdIdentifier="sentry-dbid-08541c4d-45ad-4ad3-9967-545ea25715a9")})()}catch{}var J=y('<p class="text-13">Click below to open your client and complete sign-in.</p>'),K=y('<p class="text-13">Copy the access token and paste it in your client.</p>'),Q=y('<div class="loggedin__success-card-content svelte-4b7b0m"><!> <div class="flex gap-8 m-t-8"><!> <!></div></div>');const W={hash:"svelte-4b7b0m",code:".loggedin__success-card-content.svelte-4b7b0m {display:flex;flex-direction:column;gap:16px;}"};function pe(o,n){R(n,!0),N(o,W);const g=V(q),P="bt",E=$(()=>Y.url.searchParams),l=$(()=>A(r(E).get(P)));async function I(){const t=await g.token();t.type==="success"&&t.data?H(t.data):u.error("Failed to get token")}function A(t){switch(t){case"release":return"but";case"nightly":return"but-nightly";default:return null}}async function D(){if(!r(l)){u.error("Unknown built type");return}const t=await g.token();if(t.type!=="success"||!t.data)u.error("Failed to get token");else{const m=t.data,i=`${r(l)}://login?access_token=${m}&t=${Date.now()}`;window.location.href=i}}M(t=>{G.title="GitButler | Logged in"}),j(o,{title:"Signed in successfully ðŸŽ¯",backlink:{label:"Main",href:"/"},children:(t,m)=>{var i=Q(),b=k(i);{var B=e=>{var s=J();a(e,s)},C=e=>{var s=K();a(e,s)};T(b,e=>{r(l)!==null?e(B):e(C,!1)})}var v=h(b,2),_=k(v);{var L=e=>{x(e,{style:"gray",kind:"outline",icon:"open-editor-small",action:D,children:(s,c)=>{p();var d=f("Open client");a(s,d)},$$slots:{default:!0}})},S=e=>{x(e,{style:"gray",kind:"outline",icon:"copy-small",action:I,children:(s,c)=>{p();var d=f("Copy Access Token");a(s,d)},$$slots:{default:!0}})};T(_,e=>{r(l)!==null?e(L):e(S,!1)})}var F=h(_,2);z(F,{style:"gray",kind:"ghost",onclick:()=>O("/profile"),icon:"profile",children:(e,s)=>{p();var c=f("Profile page");a(e,c)},$$slots:{default:!0}}),w(v),w(i),a(t,i)},$$slots:{default:!0}}),U()}export{pe as component};
//# sourceMappingURL=12.DFIOenBF.js.map
