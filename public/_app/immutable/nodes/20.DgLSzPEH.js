import"../chunks/CPkq-MRm.js";import{p as ae,f as B,s as m,a as oe,$ as se,g as e,Q as u,u as A,c as V,b as o,r as j,n as L,t as q}from"../chunks/BX4Dnpro.js";import{f as g,b as ie,a as l,c as K,t as Q,e as ne,s as le}from"../chunks/DS607QHn.js";import{i as R}from"../chunks/DrMRszh9.js";import{a as de,s as fe}from"../chunks/Dbls2O6t.js";import{b as D}from"../chunks/DQsDk8MY.js";import{U as ue,n as me}from"../chunks/g_ZEKDZH.js";import{R as pe}from"../chunks/BiFOLX6Y.js";import{O as ce}from"../chunks/CnDV5V2J.js";import{P as ve}from"../chunks/B4cLpuPR.js";import{F as ge}from"../chunks/DWPnRHGd.js";import{i as Y}from"../chunks/CG1L1sNd.js";import{L as _e}from"../chunks/BoCk19Um.js";import{W as be}from"../chunks/CGrgT5Uy.js";import{B as he}from"../chunks/z-ijcZsT.js";import{I as ye}from"../chunks/CvJxvGJn.js";import{E as we}from"../chunks/CxtGeu4p.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};i.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},b=new i.Error().stack;b&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[b]="dffc7d0b-e3aa-44bf-87fe-6875844de9c0",i._sentryDebugIdIdentifier="sentry-dbid-dffc7d0b-e3aa-44bf-87fe-6875844de9c0")})()}catch{}var xe=g("<i>Sign Up</i> for GitButler",1),Ee=g("ðŸš€ Check <i>your email</i> for confirmation instructions",1),Ie=g('<p>*By signing up, you agree to our <a href="/terms">Terms</a> and <a href="/privacy">Privacy Policy</a></p> <p>Already have an account? <a>Log in now</a></p>',1),ke=g('<p>Need help? <a href="https://github.com/gitbutlerapp/gitbutler/issues/new?template=BLANK_ISSUE" target="_blank" rel="noopener noreferrer">Open a support request</a></p>'),Se=g('<div class="auth-form__footer svelte-rk7b4j"><!></div>'),Te=g('<form id="signup-form" class="stack-v"><div class="auth-form__inputs svelte-rk7b4j"><!> <!> <!></div> <!> <!> <!></form>'),$e=g("<!> <!>",1);const Ce={hash:"svelte-rk7b4j",code:".auth-form__inputs.svelte-rk7b4j {display:flex;flex-direction:column;margin-bottom:24px;gap:14px;}.auth-form__footer.svelte-rk7b4j {display:flex;flex-direction:column;align-items:center;gap:8px;}"};function Qe(i,b){ae(b,!0),de(i,Ce);let h=u(void 0),y=u(void 0),I=u(void 0),k=u(void 0),p=u(void 0),w=u(void 0),U=u(void 0),S=u(void 0),T=u(void 0);const z=A(()=>{var c,d,v,n,s,f;return((c=e(h))==null?void 0:c.trim())&&((d=e(y))==null?void 0:d.trim())&&((v=e(U))==null?void 0:v.isValid())&&((n=e(S))==null?void 0:n.isValid())&&((f=(s=e(T))==null?void 0:s.isValid)==null?void 0:f.call(s))}),H=Y(_e),J=Y(be);async function X(c){var v,n;if(c.preventDefault(),!e(h)||!e(y)||!e(I)||!e(k)){o(p,"Username, email and password are required");return}if(!((v=e(T))!=null&&v.isValid())){o(p,"Please check your password and confirmation");return}if(!((n=e(S))!=null&&n.isValid())){o(p,"Please check your username");return}const d=await H.createAccountWithEmail(e(h),e(y),e(I),e(k));d.type==="error"?(o(p,d.errorMessage,!0),console.error("Login failed:",d.raw??d.errorMessage)):(o(p,void 0),o(w,d.data.message,!0))}var O=$e();ie(c=>{se.title="GitButler | Sign Up"});var M=B(O);pe(M,{});var Z=m(M,2);{const c=n=>{var s=K(),f=B(s);{var x=r=>{var a=xe();L(),l(r,a)},E=r=>{var a=Ee();L(2),l(r,a)};R(f,r=>{e(w)?r(E,!1):r(x)})}l(n,s)},d=n=>{var s=Se(),f=V(s);{var x=r=>{var a=Ie(),_=m(B(a),2),$=m(V(_));j(_),q(C=>fe($,"href",C),[()=>J.loginPath()]),l(r,a)},E=r=>{var a=ke();l(r,a)};R(f,r=>{e(w)?r(E,!1):r(x)})}j(s),l(n,s)};let v=A(()=>e(w)?me:void 0);ge(Z,{get illustration(){return e(v)},title:c,footer:d,children:(n,s)=>{var f=K(),x=B(f);{var E=r=>{var a=Te(),_=V(a),$=V(_);D(ue($,{get value(){return e(h)},set value(t){o(h,t,!0)}}),t=>o(S,t,!0),()=>e(S));var C=m($,2);D(we(C,{label:"Email",placeholder:" ",autocomplete:!1,autocorrect:!1,spellcheck:!0,get value(){return e(y)},set value(t){o(y,t,!0)}}),t=>o(U,t,!0),()=>e(U));var ee=m(C,2);D(ve(ee,{get password(){return e(I)},set password(t){o(I,t,!0)},get passwordConfirmation(){return e(k)},set passwordConfirmation(t){o(k,t,!0)}}),t=>o(T,t,!0),()=>e(T)),j(_);var N=m(_,2);{var te=t=>{ye(t,{filled:!0,outlined:!1,style:"danger",class:"m-b-16",content:W=>{L();var P=Q();q(()=>le(P,e(p))),l(W,P)},$$slots:{content:!0}})};R(N,t=>{e(p)&&t(te)})}var F=m(N,2);{let t=A(()=>!e(z));he(F,{type:"submit",style:"pop",get disabled(){return e(t)},children:(G,W)=>{L();var P=Q("Create account");l(G,P)},$$slots:{default:!0}})}var re=m(F,2);ce(re,{mode:"signup"}),j(a),ne("submit",a,X),l(r,a)};R(x,r=>{e(w)||r(E)})}l(n,f)}})}l(i,O),oe()}export{Qe as component};
//# sourceMappingURL=20.DgLSzPEH.js.map
