import"../chunks/CPkq-MRm.js";import{p as X,f as Z,g as e,u as n,a as ee,$ as te,s as m,c as k,r as S,n as u,t as h,Q as x,b as p}from"../chunks/BX4Dnpro.js";import{b as oe,c as ae,a as i,f as M,s as E,t as $}from"../chunks/DS607QHn.js";import{i as w}from"../chunks/DrMRszh9.js";import{b as re}from"../chunks/DQsDk8MY.js";import{p as V}from"../chunks/RIzBnn02.js";import{F as ne}from"../chunks/lt8-OyO6.js";import{i as F}from"../chunks/CG1L1sNd.js";import{L as se}from"../chunks/BoCk19Um.js";import{W as ie}from"../chunks/CGrgT5Uy.js";import{B as le}from"../chunks/z-ijcZsT.js";import"../chunks/Dbls2O6t.js";import{I as P}from"../chunks/CvJxvGJn.js";import{E as de}from"../chunks/CxtGeu4p.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};o.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},f=new o.Error().stack;f&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[f]="fed0a2d6-8468-4c43-b80d-73a67a276168",o._sentryDebugIdIdentifier="sentry-dbid-fed0a2d6-8468-4c43-b80d-73a67a276168")})()}catch{}var fe=M('<p class="text-13 text-body">We send a confirmation email to <i class="clr-text-2"> </i>.</p>'),ce=M('<div class="stack-v gap-16"><!> <!> <!> <!> <!></div>');function Te(o,f){X(f,!0);let v=x(void 0),I=x(void 0),C=x(void 0);const W=F(se),G=F(ie),g=n(()=>V.url.searchParams.get("email")),N=n(()=>V.url.searchParams.get("message_code")),R=n(()=>e(N)==="invalid_or_expired_token"?"It seems that your confirmation token is invalid or has expired. Please try resending the confirmation email.":void 0);let b=x(void 0);const T=n(()=>e(b)??e(g)??void 0),O=n(()=>{var a;return e(g)?!0:!e(b)||((a=e(C))==null?void 0:a.isValid())}),U=n(()=>!!e(T)&&e(O));async function j(){if(!e(T)){p(v,"Please enter your email to resend the confirmation email.");return}const a=await W.resendConfirmationEmail(e(T));a.type==="error"?(p(v,a.errorMessage,!0),console.error("Failed to resend confirmation email:",a.raw??a.errorMessage)):p(I,"Confirmation email resent. Please check your inbox.")}oe(a=>{te.title="GitButler | Resend Confirmation"});{let a=n(()=>({label:"Login",href:G.loginPath()}));ne(o,{title:"Resend Confirmation",get backlink(){return e(a)},children:(A,me)=>{var B=ae(),Q=Z(B);{var Y=l=>{var s=fe(),c=m(k(s)),_=k(c,!0);S(c),u(),S(s),h(()=>E(_,e(g))),i(l,s)},q=l=>{var s=ce(),c=k(s);re(de(c,{label:"Email",get value(){return e(b)},set value(t){p(b,t,!0)}}),t=>p(C,t,!0),()=>e(C));var _=m(c,2);{var z=t=>{P(t,{filled:!0,outlined:!1,style:"danger",content:d=>{u();var r=$();h(()=>E(r,e(v))),i(d,r)},$$slots:{content:!0}})};w(_,t=>{e(v)&&t(z)})}var D=m(_,2);{var H=t=>{P(t,{filled:!0,outlined:!1,style:"success",content:d=>{u();var r=$();h(()=>E(r,e(I))),i(d,r)},$$slots:{content:!0}})};w(D,t=>{e(I)&&t(H)})}var L=m(D,2);{var J=t=>{P(t,{filled:!0,outlined:!1,style:"warning",content:d=>{u();var r=$();h(()=>E(r,e(R))),i(d,r)},$$slots:{content:!0}})};w(L,t=>{e(R)&&t(J)})}var K=m(L,2);{let t=n(()=>!e(U));le(K,{style:"pop",get disabled(){return e(t)},onclick:j,children:(y,d)=>{u();var r=$("Resend Confirmation Email");i(y,r)},$$slots:{default:!0}})}S(s),i(l,s)};w(Q,l=>{e(g)?l(Y):l(q,!1)})}i(A,B)},$$slots:{default:!0}})}ee()}export{Te as component};
//# sourceMappingURL=21.B2_giAvK.js.map
