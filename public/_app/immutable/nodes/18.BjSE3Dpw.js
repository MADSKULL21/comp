import{a as tt,d as Ve,s as Le}from"../chunks/CPkq-MRm.js";import{p as pe,t as ne,a as he,f as W,s as i,n as l,g as r,Q as S,b as n,V as rt,c as h,r as m,a8 as ct,u as Pe,a0 as Ye,$ as dt}from"../chunks/BX4Dnpro.js";import{f as y,a as o,t as _,s as ve,e as ut,d as vt,c as We,b as ft}from"../chunks/DS607QHn.js";import{i as se}from"../chunks/DrMRszh9.js";import{c as M}from"../chunks/BmXqRLLS.js";import{a as ke,b as pt,f as ht,e as mt,i as gt,s as Re}from"../chunks/Dbls2O6t.js";import{p as Fe,b as Ge}from"../chunks/DQsDk8MY.js";import{a as Je,f as Xe}from"../chunks/BDQDEXfr.js";import{p as Qe,d as P,m as ae,P as _t,T as ue,B as te,M as ot,b as yt,I as Me,c as Ze}from"../chunks/z-ijcZsT.js";import{b as at,c as bt,a as xt}from"../chunks/CuBQQk68.js";import{i as xe}from"../chunks/CG1L1sNd.js";import{A as kt}from"../chunks/CqK7S2kR.js";import{i as wt}from"../chunks/DEetUlE7.js";import{e as it}from"../chunks/GxSCJhZN.js";import{l as de}from"../chunks/BQIhYCK9.js";import{U as St}from"../chunks/D69wT3hA.js";import{L as $t}from"../chunks/BoCk19Um.js";import{r as It,L as Et}from"../chunks/C5U-6dPW.js";import{a as Pt}from"../chunks/Cp_9xT1M.js";import{n as Ct,A as At}from"../chunks/BegIwIKf.js";import{c as Tt}from"../chunks/CU5A-fSP.js";(function(){try{var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};d.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new d.Error().stack;e&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[e]="076cf465-81c2-4744-840e-4a2fde3c06f4",d._sentryDebugIdIdentifier="sentry-dbid-076cf465-81c2-4744-840e-4a2fde3c06f4")})()}catch{}var Rt=y("<div></div>");const Kt={hash:"svelte-dt4j10",code:".divider.svelte-dt4j10{height:.0625rem;opacity:.13;width:100%}.divider.line.svelte-dt4j10{background-color:var(--clr-text-1)}.divider.dotted.svelte-dt4j10{background-image:linear-gradient(to right,var(--clr-text-1) 50%,transparent 50%);background-size:.25rem .0625rem;opacity:.2}"};function fe(d,e){pe(e,!0),ke(d,Kt);const u=Fe(e,"margin",3,12),v=Fe(e,"noLine",3,!1),p=Fe(e,"dotted",3,!1);function f(){return u()===void 0?"":`margin-top: ${Qe(u())}rem; margin-bottom: ${Qe(u())}rem;`}var b=Rt();let x;ne((O,T)=>{x=pt(b,1,"divider svelte-dt4j10",null,x,O),ht(b,T)},[()=>({line:!v()&&!p(),dotted:!v()&&p()}),f]),o(d,b),he()}var jt=y("<!> <!>",1),zt=y('<!> <div class="stack-v gap-8"><h2 class="text-15 text-bold">Experimental</h2> <p class="text-12 text-body clr-text-2">These settings enable experimental features that are still in development. <br/> They may be unstable or incomplete. Use them at your own risk.</p></div> <!>',1);function Ot(d){const[e,u]=tt(),v=()=>Le(Je,"$featureShowOrganizations",e),p=()=>Le(Xe,"$featureShowProjectPage",e);var f=zt(),b=W(f);fe(b,{});var x=i(b,4);P(x,{children:(O,T)=>{var C=jt(),L=W(C);{const K=k=>{l();var s=_("Organizations");o(k,s)},$=k=>{l();var s=_("Organizations are a way of linking together projects.");o(k,s)},I=k=>{ae(k,{id:"showOrganizations",get checked(){return v()},onclick:()=>Ve(Je,!v())})};P.Item(L,{labelFor:"showOrganizations",title:K,caption:$,actions:I,$$slots:{title:!0,caption:!0,actions:!0}})}var N=i(L,2);{const K=k=>{l();var s=_("User / Organization / Project Pages");o(k,s)},$=k=>{l();var s=_("This will show the stub landing pages for orgs, users and projects.");o(k,s)},I=k=>{ae(k,{id:"showProjectPage",get checked(){return p()},onclick:()=>Ve(Xe,!p())})};P.Item(N,{labelFor:"showProjectPage",title:K,caption:$,actions:I,$$slots:{title:!0,caption:!0,actions:!0}})}o(O,C)},$$slots:{default:!0}}),o(d,f),u()}var Nt=y("<!> <!> <!> <!> <!> <!>",1),Bt=y('<!> <div class="stack-v gap-8"><h2 class="text-15 text-bold">Notification settings</h2> <p class="text-12 text-body clr-text-2">Manage your email notification preferences for various activities within GitButler.</p></div> <!>',1);function Ht(d,e){pe(e,!0);let u=S(!1),v=S(!1),p=S(!1),f=S(!1),b=S(!1),x=S(!1);async function O(s){n(u,!0),await e.notificationSettingsService.updateNotificationSettings({receiveChatMentionEmails:s}),n(u,!1)}async function T(s){n(v,!0),await e.notificationSettingsService.updateNotificationSettings({receiveChatReplyEmails:s}),n(v,!1)}async function C(s){n(p,!0),await e.notificationSettingsService.updateNotificationSettings({receiveIssueCreationEmails:s}),n(p,!1)}async function L(s){n(f,!0),await e.notificationSettingsService.updateNotificationSettings({receiveIssueResolutionEmails:s}),n(f,!1)}async function N(s){n(b,!0),await e.notificationSettingsService.updateNotificationSettings({receiveReviewBranchEmails:s}),n(b,!1)}async function K(s){n(x,!0),await e.notificationSettingsService.updateNotificationSettings({receiveSignOffEmails:s}),n(x,!1)}var $=Bt(),I=W($);fe(I,{});var k=i(I,4);P(k,{children:(s,A)=>{var H=Nt(),B=W(H);{const w=t=>{l();var a=_("Chat message mention emails");o(t,a)},c=t=>{l();var a=_("Emails when you are mentioned in a message.");o(t,a)},g=t=>{ae(t,{id:"receive-chat-mention-emails",get checked(){return e.notificationSettings.receiveChatMentionEmails},get disabled(){return r(u)},onclick:()=>O(!e.notificationSettings.receiveChatMentionEmails)})};M(B,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-chat-mention-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}var j=i(B,2);{const w=t=>{l();var a=_("Chat message reply emails");o(t,a)},c=t=>{l();var a=_("Emails when you receive a reply to a chat message.");o(t,a)},g=t=>{ae(t,{id:"receive-chat-reply-emails",get checked(){return e.notificationSettings.receiveChatReplyEmails},get disabled(){return r(v)},onclick:()=>T(!e.notificationSettings.receiveChatReplyEmails)})};M(j,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-chat-reply-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}var F=i(j,2);{const w=t=>{l();var a=_("Issue creation emails");o(t,a)},c=t=>{l();var a=_("Emails for new issues created in changes you are involved in.");o(t,a)},g=t=>{ae(t,{id:"receive-issue-creation-emails",get checked(){return e.notificationSettings.receiveIssueCreationEmails},get disabled(){return r(p)},onclick:()=>C(!e.notificationSettings.receiveIssueCreationEmails)})};M(F,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-issue-creation-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}var G=i(F,2);{const w=t=>{l();var a=_("Issue status emails");o(t,a)},c=t=>{l();var a=_("Emails for status updates of issues in changes you are involved in.");o(t,a)},g=t=>{ae(t,{id:"receive-issue-resolution-emails",get checked(){return e.notificationSettings.receiveIssueResolutionEmails},get disabled(){return r(f)},onclick:()=>L(!e.notificationSettings.receiveIssueResolutionEmails)})};M(G,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-issue-resolution-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}var J=i(G,2);{const w=t=>{l();var a=_("Branch version update emails");o(t,a)},c=t=>{l();var a=_("Emails when a new review branch version is created.");o(t,a)},g=t=>{ae(t,{id:"receive-review-branch-emails",get checked(){return e.notificationSettings.receiveReviewBranchEmails},get disabled(){return r(b)},onclick:()=>N(!e.notificationSettings.receiveReviewBranchEmails)})};M(J,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-review-branch-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}var R=i(J,2);{const w=t=>{l();var a=_("Change status update emails");o(t,a)},c=t=>{l();var a=_("Emails for updates on the review status of changes you are involved in.");o(t,a)},g=t=>{ae(t,{id:"receive-sign-off-emails",get checked(){return e.notificationSettings.receiveSignOffEmails},get disabled(){return r(x)},onclick:()=>K(!e.notificationSettings.receiveSignOffEmails)})};M(R,()=>P.Item,(t,a)=>{a(t,{labelFor:"receive-sign-off-emails",title:w,caption:c,actions:g,$$slots:{title:!0,caption:!0,actions:!0}})})}o(s,H)},$$slots:{default:!0}}),o(d,$),he()}var Ft=y('<div class="profile-header svelte-1r3qkfs"><!> <div class="contact-info__fields svelte-1r3qkfs"><!> <!></div></div>'),Mt=y('<div class="contact-info__fields svelte-1r3qkfs"><!> <!> <!> <!> <!> <label class="checkbox-section svelte-1r3qkfs" for="email-share"><div class="checkbox-section__label svelte-1r3qkfs"><h3 class="text-15 text-bold">Share my email</h3> <p class="text-12 text-body clr-text-2">Allow other users to see your email address.</p></div> <!></label></div>'),Lt=y('<div class="flex justify-end"><!></div>'),Gt=y("<form><!> <!> <!></form>");const Ut={hash:"svelte-1r3qkfs",code:".profile-header.svelte-1r3qkfs {display:flex;gap:24px;}.contact-info__fields.svelte-1r3qkfs {display:flex;flex-direction:column;width:100%;gap:12px;}.checkbox-section.svelte-1r3qkfs {display:flex;}.checkbox-section__label.svelte-1r3qkfs {display:flex;flex:1;flex-direction:column;gap:4px;}"};function qt(d,e){pe(e,!0),ke(d,Ut);let u=S(!1),v=S(!1),p=S(""),f=S(""),b=S(""),x=S(""),O=S(""),T=S(""),C=S(!1);rt(()=>{n(p,e.user.name,!0),n(f,e.user.email,!0),n(b,e.user.website||"",!0),n(x,e.user.twitter||"",!0),n(O,e.user.bluesky||"",!0),n(T,e.user.location||"",!0),n(C,e.user.emailShare||!1,!0)});function L(I){N(I)}async function N(I){try{await e.userService.updateUser({picture:I})}catch(k){console.error("Failed to update profile picture:",k)}}async function K(){var I;if(r(p)!==((I=e.user)==null?void 0:I.name)){n(u,!0);try{await e.userService.updateUser({name:r(p)})}finally{n(u,!1)}}}async function $(){n(v,!0);try{await e.userService.updateUser({website:r(b),twitter:r(x),bluesky:r(O),location:r(T),timezone:"",emailShare:r(C)})}finally{n(v,!1)}}P(d,{children:(I,k)=>{var s=Gt(),A=h(s);M(A,()=>P.Item,(j,F)=>{F(j,{children:(G,J)=>{var R=Ft(),w=h(R);_t(w,{get picture(){return e.user.picture},onFileSelect:L});var c=i(w,2),g=h(c);ue(g,{id:"full-name",label:"Full name",type:"text",get readonly(){return r(u)},onblur:K,onkeydown:a=>a.key==="Enter"&&K(),get value(){return r(p)},set value(a){n(p,a,!0)}});var t=i(g,2);ue(t,{id:"email",label:"Email",type:"text",readonly:!0,get value(){return r(f)},set value(a){n(f,a,!0)}}),m(c),m(R),o(G,R)},$$slots:{default:!0}})});var H=i(A,2);M(H,()=>P.Item,(j,F)=>{F(j,{children:(G,J)=>{var R=Mt(),w=h(R);ue(w,{id:"website",label:"Website",type:"url",placeholder:"https://example.com",get readonly(){return r(v)},get value(){return r(b)},set value(U){n(b,U,!0)}});var c=i(w,2);ue(c,{id:"twitter",label:"Twitter",type:"text",placeholder:"@username",get readonly(){return r(v)},get value(){return r(x)},set value(U){n(x,U,!0)}});var g=i(c,2);ue(g,{id:"bluesky",label:"Bluesky",type:"text",placeholder:"@handle.bsky.social",get readonly(){return r(v)},get value(){return r(O)},set value(U){n(O,U,!0)}});var t=i(g,2);ue(t,{id:"location",label:"Location",type:"text",placeholder:"City, Country",get readonly(){return r(v)},get value(){return r(T)},set value(U){n(T,U,!0)}});var a=i(t,2);fe(a,{dotted:!0});var Z=i(a,2),le=i(h(Z),2);ae(le,{id:"email-share",get checked(){return r(C)},get disabled(){return r(v)},onclick:()=>n(C,!r(C))}),m(Z),m(R),o(G,R)},$$slots:{default:!0}})});var B=i(H,2);M(B,()=>P.Item,(j,F)=>{F(j,{children:(G,J)=>{var R=Lt(),w=h(R);te(w,{type:"submit",style:"pop",get loading(){return r(v)},get disabled(){return r(v)},children:(c,g)=>{l();var t=_();ne(()=>ve(t,r(v)?"Saving...":"Update profile")),o(c,t)},$$slots:{default:!0}}),m(R),o(G,R)},$$slots:{default:!0}})}),m(s),ut("submit",s,$),o(I,s)},$$slots:{default:!0}}),he()}var Dt=y("<!> <!>",1),Vt=y('<div class="error-key svelte-b18y1b"> </div>'),Yt=y(`<div class="container svelte-b18y1b"><p class="description svelte-b18y1b">Add a new SSH key to your account. You can find your public key in your SSH key file (usually
			ending in .pub).</p> <!> <!> <!></div>`);const Wt={hash:"svelte-b18y1b",code:".error-key.svelte-b18y1b {color:red;}.container.svelte-b18y1b {display:flex;flex-direction:column;gap:20px;}.description.svelte-b18y1b {color:var(--clr-text-2);font-size:0.875rem;line-height:1.5;}"};function Jt(d,e){pe(e,!0),ke(d,Wt);const u=xe(at);let v=S(""),p=S(""),f=S(null);async function b(){var T;if(!r(v).trim()||!r(p).trim()){n(f,"Please fill in all fields");return}n(f,null);try{await u.addSshKey(r(v).trim(),r(p).trim()),n(v,""),n(p,""),(T=r(x))==null||T.close(),e.onClose()}catch(C){console.error("Failed to add SSH key:",C),n(f,"Failed to add SSH key. Please try again.")}}let x=S(void 0);function O(){var T;(T=r(x))==null||T.show()}return Ge(ot(d,{get onClose(){return e.onClose},title:"Add SSH Key",controls:C=>{var L=Dt(),N=W(L);te(N,{onclick:()=>{var $;return($=r(x))==null?void 0:$.close()},kind:"outline",children:($,I)=>{l();var k=_("Cancel");o($,k)},$$slots:{default:!0}});var K=i(N,2);kt(K,{action:b,style:"pop",children:($,I)=>{l();var k=_("Add Key");o($,k)},$$slots:{default:!0}}),o(C,L)},children:(C,L)=>{var N=Yt(),K=i(h(N),2);ue(K,{label:"Key name",placeholder:"e.g., MacBook Pro",required:!1,get value(){return r(v)},set value(s){n(v,s,!0)}});var $=i(K,2);yt($,{label:"Public Key",placeholder:"ssh-rsa AAAAB3NzaC1yc2EAAAADA...",minRows:6,required:!1,get value(){return r(p)},set value(s){n(p,s,!0)}});var I=i($,2);{var k=s=>{var A=Vt(),H=h(A,!0);m(A),ne(()=>ve(H,r(f))),o(s,A)};se(I,s=>{r(f)&&s(k)})}m(N),o(C,N)},$$slots:{controls:!0,default:!0}}),C=>n(x,C,!0),()=>r(x)),he({show:O})}async function Xt(d,e,u,v,p){n(e,!0);try{const f=await u.userService.updateUser({generate_ssh_token:!0});f&&f.ssh_key_token?(n(v,f.ssh_key_token,!0),n(p,!0)):console.error("Failed to generate SSH key token: No token returned")}catch(f){console.error("Failed to generate SSH key token:",f)}finally{n(e,!1)}}function et(d,e,u){n(e,!1),n(u,"")}function Qt(d){d.stopPropagation()}var Zt=y('<div class="loading svelte-4wv8uf">Loading SSH keys...</div>'),er=y('<div class="no-keys svelte-4wv8uf">No SSH keys added yet</div>'),tr=(d,e,u)=>e(r(u).fingerprint),rr=y('<div class="ssh-key svelte-4wv8uf"><div class="ssh-key-info svelte-4wv8uf"><span class="ssh-key-name svelte-4wv8uf"> </span> <span class="ssh-key-fingerprint svelte-4wv8uf"> </span></div> <button type="button" class="delete-button svelte-4wv8uf" title="Delete key">Ã—</button></div>'),or=(d,e)=>{var u;return(u=r(e))==null?void 0:u.show()},ar=y('<div class="ssh-keys svelte-4wv8uf"><!> <button type="button" class="add-key-button svelte-4wv8uf"><span class="add-key-icon svelte-4wv8uf">+</span> <span>Upload SSH Public Key</span></button> <button type="button" class="add-key-button svelte-4wv8uf"><span class="add-key-icon svelte-4wv8uf">+</span> <span> </span></button></div>'),ir=(d,e)=>{navigator.clipboard.writeText(`ssh git@ssh.gitbutler.com add/${r(e)}`)},sr=y('<div class="ssh-token-modal-backdrop svelte-4wv8uf"><div class="ssh-token-modal svelte-4wv8uf"><h3 class="ssh-token-modal__title svelte-4wv8uf">Add Your SSH Key</h3> <p class="ssh-token-modal__description svelte-4wv8uf">Run the following command in your terminal to add your SSH key to GitButler:</p> <div class="ssh-token-modal__code svelte-4wv8uf"><code> </code> <button type="button" class="ssh-token-modal__copy-button svelte-4wv8uf">Copy</button></div> <p class="ssh-token-modal__note svelte-4wv8uf">This token will expire after use or in 5 minutes.</p> <div class="ssh-token-modal__controls svelte-4wv8uf"><button type="button" class="ssh-token-modal__close-button svelte-4wv8uf">Close</button></div></div></div>'),nr=y("<!> <!> <!>  <!>",1);const lr={hash:"svelte-4wv8uf",code:`.ssh-keys.svelte-4wv8uf {display:flex;flex-direction:column;gap:12px;}.ssh-key.svelte-4wv8uf {display:flex;align-items:center;justify-content:space-between;padding:12px;border:1px solid var(--clr-border-2);border-radius:var(--radius-m);background-color:var(--clr-bg-1);}.ssh-key-info.svelte-4wv8uf {display:flex;flex-direction:column;gap:4px;}.ssh-key-name.svelte-4wv8uf {color:var(--clr-text-1);font-weight:500;font-size:0.875rem;}.ssh-key-fingerprint.svelte-4wv8uf {color:var(--clr-text-2);font-size:0.8125rem;font-family:var(--font-mono);}.delete-button.svelte-4wv8uf {display:flex;align-items:center;justify-content:center;width:24px;height:24px;border:1px solid var(--clr-border-2);border-radius:var(--radius-s);background-color:transparent;color:var(--clr-text-2);font-size:1.125rem;line-height:1;cursor:pointer;transition:all var(--transition-medium);}.delete-button.svelte-4wv8uf:hover {border-color:var(--clr-text-2);background-color:var(--clr-bg-2);color:var(--clr-text-2);}.add-key-button.svelte-4wv8uf {display:flex;align-items:center;margin-bottom:8px;padding:12px;gap:8px;border:1px dashed var(--clr-border-2);border-radius:var(--radius-m);background-color:transparent;color:var(--clr-text-2);font-size:0.875rem;cursor:pointer;transition:all var(--transition-medium);}.add-key-button.svelte-4wv8uf:hover:not(:disabled) {border-color:var(--clr-theme-pop-element);color:var(--clr-theme-pop-element);}.add-key-button.svelte-4wv8uf:disabled {cursor:not-allowed;opacity:0.5;}.add-key-icon.svelte-4wv8uf {font-size:1.125rem;line-height:1;}.loading.svelte-4wv8uf,
	.no-keys.svelte-4wv8uf {padding:24px;color:var(--clr-text-2);font-size:0.875rem;text-align:center;}.ssh-token-modal-backdrop.svelte-4wv8uf {display:flex;z-index:1000;position:fixed;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;background-color:rgba(0, 0, 0, 0.5);}.ssh-token-modal.svelte-4wv8uf {display:flex;flex-direction:column;width:600px;max-width:90vw;padding:24px;gap:16px;border-radius:var(--radius-m);background-color:var(--clr-bg-1);}.ssh-token-modal__title.svelte-4wv8uf {color:var(--clr-text-1);font-weight:600;font-size:1.125rem;}.ssh-token-modal__description.svelte-4wv8uf {color:var(--clr-text-2);font-size:0.875rem;line-height:1.5;}.ssh-token-modal__code.svelte-4wv8uf {position:relative;padding:16px;border-radius:var(--radius-m);background-color:var(--clr-bg-2);color:var(--clr-text-1);font-size:0.8125rem;line-height:1.4;font-family:var(--font-mono);word-break:break-all;}.ssh-token-modal__copy-button.svelte-4wv8uf {position:absolute;top:8px;right:8px;padding:4px 8px;border:none;border-radius:var(--radius-s);background-color:var(--clr-text-1);color:var(--clr-bg-1);font-size:0.75rem;cursor:pointer;transition:background-color var(--transition-medium);}.ssh-token-modal__copy-button.svelte-4wv8uf:hover {background-color:var(--clr-text-2);}.ssh-token-modal__note.svelte-4wv8uf {color:var(--clr-text-2);font-size:0.8125rem;line-height:1.5;}.ssh-token-modal__controls.svelte-4wv8uf {display:flex;justify-content:flex-end;margin-top:8px;}.ssh-token-modal__close-button.svelte-4wv8uf {padding:8px 16px;border:none;border-radius:var(--radius-m);background-color:var(--clr-theme-pop-element);color:var(--clr-theme-pop-on-element);font-size:0.875rem;cursor:pointer;transition:background-color var(--transition-medium);}.ssh-token-modal__close-button.svelte-4wv8uf:hover {background-color:var(--clr-theme-pop-element);opacity:0.9;}`};function cr(d,e){pe(e,!0),ke(d,lr);let u=S(ct([])),v=S(!0),p=S(!1),f=S(""),b=S(!1),x=S(void 0);rt(()=>{O()});async function O(){try{n(u,await e.sshKeyService.getSshKeys(),!0)}catch(s){console.error("Failed to load SSH keys:",s)}finally{n(v,!1)}}async function T(s){const A=r(u).find(B=>B.fingerprint===s);if(!(!A||!confirm(`Are you sure you want to delete the SSH key "${A.name}"?`)))try{await e.sshKeyService.deleteSshKey(A.fingerprint),n(u,r(u).filter(B=>B.fingerprint!==s),!0)}catch(B){console.error("Failed to delete SSH key:",B)}}async function C(){await O()}var L=nr(),N=W(L);fe(N,{});var K=i(N,2);M(K,()=>P.Item,(s,A)=>{A(s,{standalone:!0,children:(H,B)=>{var j=ar(),F=h(j);{var G=t=>{var a=Zt();o(t,a)},J=t=>{var a=We(),Z=W(a);{var le=ee=>{var Q=er();o(ee,Q)},U=ee=>{var Q=We(),we=W(Q);mt(we,17,()=>r(u),gt,(Ke,ce)=>{var me=rr(),ge=h(me),_e=h(ge),je=h(_e,!0);m(_e);var Se=i(_e,2),ze=h(Se,!0);m(Se),m(ge);var Ce=i(ge,2);Ce.__click=[tr,T,ce],m(me),ne(()=>{ve(je,r(ce).name),ve(ze,r(ce).fingerprint)}),o(Ke,me)}),o(ee,Q)};se(Z,ee=>{r(u).length===0?ee(le):ee(U,!1)},!0)}o(t,a)};se(F,t=>{r(v)?t(G):t(J,!1)})}var R=i(F,2);R.__click=[or,x];var w=i(R,2);w.__click=[Xt,p,e,f,b];var c=i(h(w),2),g=h(c,!0);m(c),m(w),m(j),ne(()=>{w.disabled=r(p),ve(g,r(p)?"Generating...":"Add Key via SSH")}),o(H,j)},$$slots:{default:!0}})});var $=i(K,2);Ge(Jt($,{onClose:C}),s=>n(x,s,!0),()=>r(x));var I=i($,2);{var k=s=>{var A=sr();A.__click=[et,b,f];var H=h(A);H.__click=[Qt];var B=i(h(H),4),j=h(B),F=h(j);m(j);var G=i(j,2);G.__click=[ir,f],m(B);var J=i(B,4),R=h(J);R.__click=[et,b,f],m(J),m(H),m(A),ne(()=>ve(F,`ssh git@ssh.gitbutler.com add/${r(f)??""}`)),o(s,A)};se(I,s=>{r(b)&&s(k)})}o(d,L),he()}vt(["click"]);var dr=y('<div class="supporter-card svelte-jofap6"><h3 class="text-15 text-bold">ðŸŽ‰ Thank you for being a supporter!</h3> <p class="text-12 text-body clr-text-2">Your support helps us build a better GitButler.<br/>We appreciate your contribution.</p> <!></div>');const ur={hash:"svelte-jofap6",code:".supporter-card.svelte-jofap6 {display:flex;flex-direction:column;width:100%;padding:16px;gap:12px;border:1px solid var(--clr-border-2);border-radius:var(--radius-m);background-color:var(--clr-bg-1);}"};function vr(d,e){pe(e,!1),ke(d,ur),wt();var u=dr(),v=i(h(u),4);te(v,{style:"pop",onclick:()=>window.location.href=`${it.PUBLIC_APP_HOST}supporter/portal`,children:(p,f)=>{l();var b=_("Manage your subscription");o(p,b)},$$slots:{default:!0}}),m(u),o(d,u),he()}function fr(d,e,u){const v=e.getNotificationSettingsInterest();It(v,u);const p=Pe(()=>Ct.selectors.selectById(d.notificationSettings,bt));return{get current(){return r(p)}}}var pr=y(`<div class="not-logged-in svelte-1hf1f66"><h3 class="text-18 text-bold">It looks like you're not logged in</h3> <p class="text-14 text-body clr-text-2">Please <a class="underline" href="/login">log in</a> to access your profile</p></div>`),hr=y("<!> <!> <!> <!>",1),mr=y("Your access token is used to authenticate the GitButler clients with our API. <br/> Keep it secure and refresh it periodically for enhanced security.",1),gr=y("Refresh your token if you notice unusual activity. <br/> This logs you out everywhere, including the desktop app.",1),_r=y("<!> <!> <!>",1),yr=y("Permanently delete your account and all data. <br/> This action cannot be undone.",1),br=y("<!> <!>",1),xr=y("<!> <!> <!> <!>",1),kr=y(`<div class="profile__content svelte-1hf1f66"><div class="profile__fields svelte-1hf1f66"><!> <!> <!></div> <div class="profile__side svelte-1hf1f66"><div class="profile_mobile-separator svelte-1hf1f66"><!></div> <div class="download-app-banner svelte-1hf1f66"><div class="download-card svelte-1hf1f66"><div class="download-card__header svelte-1hf1f66"><img class="download-card__icon svelte-1hf1f66" src="/images/app-icon.svg" alt=""/> <p class="text-12 text-body clr-text-2 text-balance">Get the desktop app for Mac, Windows, and Linux.</p></div> <!> <hr class="download-card__divider svelte-1hf1f66"/> <p class="download-card__other-text text-12 svelte-1hf1f66">Get the app for <a target="_self" rel="noopener noreferrer" class="svelte-1hf1f66">other platforms</a> â†—</p></div></div> <!> <div class="tips-section svelte-1hf1f66"><a class="tip-link svelte-1hf1f66" target="_blank" rel="noopener noreferrer"><div class="tip-link__title svelte-1hf1f66"><!> <h3 class="text-14 text-semibold">Get Started</h3></div> <p class="text-12 text-body clr-text-2">Explore comprehensive guides and best practices.</p> <span class="tip-link__arrow-icon svelte-1hf1f66">â†—</span></a> <a class="tip-link svelte-1hf1f66" target="_blank" rel="noopener noreferrer"><div class="tip-link__title svelte-1hf1f66"><!> <h3 class="text-14 text-semibold">Join the Community</h3></div> <p class="text-12 text-body clr-text-2">Join our Discord for help and discussion.</p> <span class="tip-link__arrow-icon svelte-1hf1f66">â†—</span></a> <a class="tip-link svelte-1hf1f66"><div class="tip-link__title svelte-1hf1f66"><!> <h3 class="text-14 text-semibold">Need Help?</h3></div> <p class="text-12 text-body clr-text-2">Create an issue on GitHub. We're here to assist!</p> <span class="tip-link__arrow-icon svelte-1hf1f66">â†—</span></a></div></div></div>`),wr=y('<div class="flex flex-row gap-8 justify-end"><!> <!></div>'),Sr=y('<p class="text-13 text-body">Are you sure you want to delete your account? <br/> This action is <b>irreversible</b> and will permanently remove all your data from our servers.</p>'),$r=y("<!> <!>",1);const Ir={hash:"svelte-1hf1f66",code:`.not-logged-in.svelte-1hf1f66 {display:flex;row-gap:10px;grid-column:full-start / full-end;flex-direction:column;align-items:center;justify-content:center;min-height:100%;text-align:center;}.profile__content.svelte-1hf1f66 {display:grid;grid-template-columns:subgrid;row-gap:16px;grid-column:full-start / full-end;align-self:flex-start;}.profile__fields.svelte-1hf1f66 {display:grid;row-gap:16px;grid-column:narrow-start / -6;}.profile__side.svelte-1hf1f66 {display:flex;row-gap:16px;grid-column:-6 / narrow-end;flex-direction:column;align-items:end;}.tips-section.svelte-1hf1f66 {display:flex;flex-direction:column;width:100%;overflow:hidden;border:1px solid var(--clr-border-2);border-radius:var(--radius-ml);}.tip-link.svelte-1hf1f66 {display:flex;position:relative;flex-direction:column;padding:16px;gap:6px;border-bottom:1px solid var(--clr-border-2);background-color:var(--clr-bg-1);transition:background-color var(--transition-fast),
			border-color var(--transition-fast);}.tip-link.svelte-1hf1f66:last-child {border-bottom:none;}.tip-link.svelte-1hf1f66:hover {background-color:var(--hover-bg-1);}.tip-link.svelte-1hf1f66:hover .tip-link__arrow-icon:where(.svelte-1hf1f66) {transform:translateX(0);opacity:1;}.tip-link__title.svelte-1hf1f66 {display:flex;align-items:center;margin-bottom:4px;gap:8px;}.tip-link__arrow-icon.svelte-1hf1f66 {position:absolute;top:8px;right:10px;transform:translateX(-2px);color:var(--clr-text-2);font-size:1rem;opacity:0;transition:opacity var(--transition-fast),
			color var(--transition-fast),
			transform var(--transition-medium);}.profile_mobile-separator.svelte-1hf1f66 {display:none;width:100%;}.download-app-banner.svelte-1hf1f66 {width:100%;}.download-card.svelte-1hf1f66 {display:flex;flex-direction:column;padding:16px;gap:16px;border:1px solid var(--clr-border-2);border-radius:var(--radius-ml);background-color:var(--clr-bg-1);}.download-card__header.svelte-1hf1f66 {display:flex;gap:12px;}.download-card__icon.svelte-1hf1f66 {display:flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:var(--radius-m);background-color:var(--clr-theme-pop-bg);}.download-card__other-text.svelte-1hf1f66 {color:var(--clr-text-2);text-align:center;transition:color var(--transition-fast);}.download-card__other-text.svelte-1hf1f66 a:where(.svelte-1hf1f66) {text-decoration:underline;}.download-card__other-text.svelte-1hf1f66 a:where(.svelte-1hf1f66):hover {color:var(--clr-text-1);-webkit-text-decoration:underline wavy var(--clr-theme-pop-element);text-decoration:underline wavy var(--clr-theme-pop-element);}.download-card__divider.svelte-1hf1f66 {width:100%;height:1px;border:none;background:repeating-linear-gradient(
			to right,
			var(--clr-border-2),
			var(--clr-border-2) 2px,
			transparent 2px,
			transparent 4px
		);}

	@media (max-width: 64rem) {.profile__fields.svelte-1hf1f66 {grid-column:full-start / -5;}.profile__side.svelte-1hf1f66 {grid-column:-5 / full-end;align-items:center;}
	}

	@media (max-width: 46.25rem) {.profile__fields.svelte-1hf1f66 {grid-column:full-start / full-end;}.profile__side.svelte-1hf1f66 {grid-column:full-start / full-end;align-items:center;}.profile_mobile-separator.svelte-1hf1f66 {display:block;}.download-card.svelte-1hf1f66 {align-items:center;}.download-card__header.svelte-1hf1f66 {flex-direction:column;align-items:center;text-align:center;}
	}`};function Yr(d,e){pe(e,!0),ke(d,Ir);const[u,v]=tt(),p=()=>Le(r(N),"$user",u),f=xe(St),b=xe(At),x=xe(xt),O=xe(at),T=Pt(),C=xe($t),L=fr(b,x),N=Pe(()=>f.user),K=Pe(()=>{if(typeof window>"u")return"macOS";const c=window.navigator.userAgent.toLowerCase();return c.includes("mac")?"macOS":c.includes("win")?"Windows":c.includes("linux")?"Linux":"macOS"}),$=Pe(()=>`Download GitButler for ${r(K)}`),I=Pe(()=>{switch(r(K)){case"Windows":return de.downloads.windowsMsi.url;case"Linux":return de.downloads.linuxAppimage.url;case"macOS":default:return de.downloads.appleSilicon.url}});async function k(){await f.refreshAccessToken(),Ze.success("Access token refreshed successfully")}function s(){window.location.href=`${it.PUBLIC_APP_HOST}cloud/logout`}let A=S(void 0);function H(){var c;(c=r(A))==null||c.show()}async function B(){await f.deleteAccount(),s()}async function j(){const c=await C.token();c.type==="success"&&c.data?Tt(c.data):Ze.error("Failed to get token")}var F=$r();ft(c=>{dt.title="GitButler | User"});var G=W(F);{var J=c=>{var g=pr();o(c,g)},R=c=>{var g=kr(),t=h(g),a=h(t);qt(a,{get user(){return p()},get userService(){return f}});var Z=i(a,2);{var le=D=>{var re=hr(),ie=W(re);cr(ie,{get sshKeyService(){return O},get userService(){return f}});var $e=i(ie,2);Et($e,{get loadable(){return L.current},children:(Ee,oe=Ye)=>{Ht(Ee,{get notificationSettings(){return oe()},get notificationSettingsService(){return x}})},$$slots:{default:!0}});var Ie=i($e,2);Ot(Ie);var Ne=i(Ie,2);fe(Ne,{}),o(D,re)};se(Z,D=>{T.current.length>0&&D(le)})}var U=i(Z,2);{var ee=D=>{var re=xr(),ie=W(re);{const ye=V=>{l();var X=_("Signing out");o(V,X)},Ee=V=>{l();var X=_("Ready to take a break? Click here to log out and unwind.");o(V,X)},oe=V=>{te(V,{kind:"outline",icon:"signout",onclick:s,children:(X,be)=>{l();var Y=_("Log out");o(X,Y)},$$slots:{default:!0}})};M(ie,()=>P.Item,(V,X)=>{X(V,{standalone:!0,title:ye,caption:Ee,actions:oe,$$slots:{title:!0,caption:!0,actions:!0}})})}var $e=i(ie,2);P($e,{children:(ye,Ee)=>{var oe=_r(),V=W(oe);{const Y=E=>{l();var z=_("Access token");o(E,z)},q=E=>{l();var z=mr();l(2),o(E,z)};M(V,()=>P.Item,(E,z)=>{z(E,{title:Y,caption:q,$$slots:{title:!0,caption:!0}})})}var X=i(V,2);{const Y=E=>{l();var z=_("Copy your token to use with the desktop app or CLI.");o(E,z)},q=E=>{te(E,{kind:"outline",icon:"copy-small",onclick:j,children:(z,Be)=>{l();var He=_("Copy token");o(z,He)},$$slots:{default:!0}})};M(X,()=>P.Item,(E,z)=>{z(E,{alignment:"center",caption:Y,actions:q,$$slots:{caption:!0,actions:!0}})})}var be=i(X,2);{const Y=E=>{l();var z=gr();l(2),o(E,z)},q=E=>{te(E,{kind:"outline",icon:"update",onclick:k,children:(z,Be)=>{l();var He=_("Refresh token");o(z,He)},$$slots:{default:!0}})};M(be,()=>P.Item,(E,z)=>{z(E,{caption:Y,actions:q,$$slots:{caption:!0,actions:!0}})})}o(ye,oe)},$$slots:{default:!0}});var Ie=i($e,2);fe(Ie,{});var Ne=i(Ie,2);P(Ne,{children:(ye,Ee)=>{var oe=br(),V=W(oe);{const be=Y=>{l();var q=_("Danger zone");o(Y,q)};M(V,()=>P.Item,(Y,q)=>{q(Y,{title:be,$$slots:{title:!0}})})}var X=i(V,2);{const be=q=>{l();var E=yr();l(2),o(q,E)},Y=q=>{te(q,{style:"danger",onclick:H,children:(E,z)=>{l();var Be=_("Delete my accountâ€¦");o(E,Be)},$$slots:{default:!0}})};M(X,()=>P.Item,(q,E)=>{E(q,{caption:be,actions:Y,$$slots:{caption:!0,actions:!0}})})}o(ye,oe)},$$slots:{default:!0}}),o(D,re)};se(U,D=>{p()&&D(ee)})}m(t);var Q=i(t,2),we=h(Q),Ke=h(we);fe(Ke,{}),m(we);var ce=i(we,2),me=h(ce),ge=i(h(me),2);te(ge,{style:"gray",wide:!0,onclick:()=>window.open(r(I),"_blank"),children:(D,re)=>{l();var ie=_();ne(()=>ve(ie,r($))),o(D,ie)},$$slots:{default:!0}});var _e=i(ge,4),je=i(h(_e));l(),m(_e),m(me),m(ce);var Se=i(ce,2);{var ze=D=>{vr(D,{})};se(Se,D=>{var re;(re=p())!=null&&re.supporter&&D(ze)})}var Ce=i(Se,2),Ae=h(Ce),Ue=h(Ae),st=h(Ue);Me(st,{name:"docs-small",color:"var(--clr-text-2)"}),l(2),m(Ue),l(4),m(Ae);var Te=i(Ae,2),qe=h(Te),nt=h(qe);Me(nt,{name:"discord-outline",color:"var(--clr-text-2)"}),l(2),m(qe),l(4),m(Te);var Oe=i(Te,2),De=h(Oe),lt=h(De);Me(lt,{name:"chat",color:"var(--clr-text-2)"}),l(2),m(De),l(4),m(Oe),m(Ce),m(Q),m(g),ne(()=>{Re(je,"href",de.resources.downloads.url),Re(Ae,"href",de.resources.documentation.url),Re(Te,"href",de.social.discord.url),Re(Oe,"href",de.other.support.url)}),o(c,g)};se(G,c=>{var g;(g=p())!=null&&g.id?c(R,!1):c(J)})}var w=i(G,2);Ge(ot(w,{title:"Confirm account deletion",width:"small",controls:(g,t=Ye)=>{var a=wr(),Z=h(a);te(Z,{style:"pop",get onclick(){return t()},children:(U,ee)=>{l();var Q=_("Cancel");o(U,Q)},$$slots:{default:!0}});var le=i(Z,2);te(le,{style:"danger",icon:"bin",kind:"outline",onclick:B,children:(U,ee)=>{l();var Q=_("Delete permanently");o(U,Q)},$$slots:{default:!0}}),m(a),o(g,a)},children:(g,t)=>{var a=Sr();o(g,a)},$$slots:{controls:!0,default:!0}}),g=>n(A,g,!0),()=>r(A)),o(d,F),he(),v()}export{Yr as component};
//# sourceMappingURL=18.BjSE3Dpw.js.map
