import"../chunks/CPkq-MRm.js";import{p as Y,f as R,g as e,u as v,s as b,a as z,$ as H,Q as u,c as y,r as h,n as w,t as L,b as a}from"../chunks/BX4Dnpro.js";import{f as x,b as J,c as K,a as l,s as P,t as B}from"../chunks/DS607QHn.js";import{i as C}from"../chunks/DrMRszh9.js";import{a as X}from"../chunks/Dbls2O6t.js";import{b as Z}from"../chunks/DQsDk8MY.js";import{R as ee}from"../chunks/BiFOLX6Y.js";import{F as te}from"../chunks/lt8-OyO6.js";import{i as D}from"../chunks/CG1L1sNd.js";import{L as re}from"../chunks/BoCk19Um.js";import{W as se}from"../chunks/CGrgT5Uy.js";import{B as oe}from"../chunks/z-ijcZsT.js";import{I as ae}from"../chunks/CvJxvGJn.js";import{E as ie}from"../chunks/CxtGeu4p.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"22f298fe9ac7c9892685cfa634f1dd18037bb1ae"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},d=new t.Error().stack;d&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[d]="f3e2e9a9-cc0c-44ba-93c1-b64014b9dbd7",t._sentryDebugIdIdentifier="sentry-dbid-f3e2e9a9-cc0c-44ba-93c1-b64014b9dbd7")})()}catch{}var ne=x(`<p class="text-13 text-body">We've sent a password reset link to: <i class="clr-text-2"> </i> <br/> Click the link in your email to reset your password.</p>`),le=x('<div class="service-form__inputs svelte-ht5dfa"><!> <!> <!></div>'),de=x("<!> <!>",1);const fe={hash:"svelte-ht5dfa",code:".service-form__inputs.svelte-ht5dfa {display:flex;flex-direction:column;gap:16px;}"};function ke(t,d){Y(d,!0),X(t,fe);const F=D(re),M=D(se);let i=u(void 0),g=u(void 0),f=u(void 0),_=u(!1),E=u(void 0);const V=v(()=>{var r;return!!e(i)&&((r=e(g))==null?void 0:r.isValid())});async function W(){if(!e(i)){a(f,"Email is required");return}const r=await F.resetPassword(e(i));r.type==="error"?(a(f,r.errorMessage,!0),console.error("Reset password failed:",r.raw??r.errorMessage)):(a(f,void 0),a(E,e(i),!0),a(_,!0))}var $=de();J(r=>{H.title="GitButler | Forgot Password"});var I=R($);ee(I,{});var G=b(I,2);{let r=v(()=>e(_)?"Link sent!":"Forgot password?"),N=v(()=>({label:"Login",href:M.loginPath()}));te(G,{get title(){return e(r)},get backlink(){return e(N)},children:(O,ce)=>{var k=K(),U=R(k);{var j=n=>{var o=ne(),c=b(y(o)),p=y(c,!0);h(c),w(3),h(o),L(()=>P(p,e(E))),l(n,o)},q=n=>{var o=le(),c=y(o);Z(ie(c,{label:"Email",get value(){return e(i)},set value(s){a(i,s,!0)}}),s=>a(g,s,!0),()=>e(g));var p=b(c,2);{var A=s=>{ae(s,{filled:!0,outlined:!1,style:"danger",content:T=>{w();var m=B();L(()=>P(m,e(f))),l(T,m)},$$slots:{content:!0}})};C(p,s=>{e(f)&&s(A)})}var Q=b(p,2);{let s=v(()=>!e(V));oe(Q,{style:"pop",get disabled(){return e(s)},onclick:W,children:(S,T)=>{w();var m=B("Send a reset link");l(S,m)},$$slots:{default:!0}})}h(o),l(n,o)};C(U,n=>{e(_)?n(j):n(q,!1)})}l(O,k)},$$slots:{default:!0}})}l(t,$),z()}export{ke as component};
//# sourceMappingURL=15.BoADZUt1.js.map
